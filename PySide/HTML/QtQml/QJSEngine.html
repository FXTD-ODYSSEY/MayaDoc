
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>QJSEngine &#8212; Qt for Python</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <link rel="search" title="Search" href="../../search.html" />
  <link rel="stylesheet" type="text/css" href="/style/pyside.css" />
  <link rel="icon" type="image/png" href="/style/pyside-32px.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/style/pyside-16px.png" sizes="16x16" />
  <script type="text/javascript"> wpThemeFolder = 'https://qt.io/wp-content/themes/oneqt'; </script>
  <script type="text/javascript" src="/scripts/main.js"></script>
  <script type="text/javascript" src="/scripts/extras.js"></script>
  <script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-54043535-2', 'qt.io');
    ga('set', 'forceSSL', true);
    ga('send', 'pageview');
  </script>

  </head><body>
<div id="container">
    <div class="header">
        <div class="header_container">
            <header id="navbar">
            </header>
        </div>
    </div>
    <div class="main">
        <div class="main-rounded">
            <div class="navigationbar">
                <ul class="sub-navigation">
                    <li><a href="https://wiki.qt.io/">Wiki</a></li>
                    <li><a href="https://doc.qt.io/">Documentation</a></li>
                    <li><a href="https://forum.qt.io/">Forum</a></li>
                    <li><a href="https://bugreports.qt.io/">Bug Reports</a></li>
                    <li><a href="https://codereview.qt-project.org/">Code Review</a></li>
                </ul>
                <div id="main_title_bar"><h1>Qt Documentation</h1></div>
                <div class="related">
                    <ul>
                        
                        <li><a href="../../index.html">Qt for Python 5.13.0</a></li> 
                    </ul>
                </div>
            </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">QJSEngine</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detailed-description">Detailed Description</a><ul>
<li><a class="reference internal" href="#evaluating-scripts">Evaluating Scripts</a></li>
<li><a class="reference internal" href="#engine-configuration">Engine Configuration</a></li>
<li><a class="reference internal" href="#script-exceptions">Script Exceptions</a></li>
<li><a class="reference internal" href="#script-object-creation">Script Object Creation</a></li>
<li><a class="reference internal" href="#qobject-integration">QObject Integration</a></li>
<li><a class="reference internal" href="#dynamic-qobject-properties">Dynamic QObject Properties</a></li>
<li><a class="reference internal" href="#extensions">Extensions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" id="q" size="18" />
      <input type="submit" value="Go" id="search_button" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-PySide2.QtQml"></span><div class="section" id="qjsengine">
<span id="id1"></span><h1>QJSEngine<a class="headerlink" href="#qjsengine" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>The <a class="reference internal" href="#PySide2.QtQml.QJSEngine" title="PySide2.QtQml.QJSEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSEngine</span></code></a> class provides an environment for evaluating JavaScript code. <a class="reference internal" href="#more">More</a>…</p>
</div></blockquote>
<div class="graphviz"><img src="../../_images/inheritance-9183dd3444ab98240bbf8fe27ed6ef614d17c186.png" alt="Inheritance diagram of PySide2.QtQml.QJSEngine" usemap="#inheritance0697e98a9d" class="inheritance graphviz" /></div>
<map id="inheritance0697e98a9d" name="inheritance0697e98a9d">
<area shape="rect" id="node1" href="#PySide2.QtQml.QJSEngine" title="QtQml.QJSEngine" alt="" coords="176,5,308,31"/>
<area shape="rect" id="node2" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="QtCore.QObject" alt="" coords="5,5,128,31"/>
</map><p><strong>Inherited by:</strong> <a class="reference internal" href="QQmlApplicationEngine.html#qqmlapplicationengine"><span class="std std-ref">QQmlApplicationEngine</span></a>, <a class="reference internal" href="QQmlEngine.html#qqmlengine"><span class="std std-ref">QQmlEngine</span></a></p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<div class="function-list docutils container">
<ul class="simple">
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.collectGarbage" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.collectGarbage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collectGarbage</span></code></a> ()</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate</span></code></a> (program[, fileName=”“[, lineNumber=1]])</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">globalObject</span></code></a> ()</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.importModule" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.importModule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importModule</span></code></a> (fileName)</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.installExtensions" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.installExtensions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">installExtensions</span></code></a> (extensions[, object=QJSValue()])</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.installTranslatorFunctions" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.installTranslatorFunctions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">installTranslatorFunctions</span></code></a> ([object=QJSValue()])</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newArray" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newArray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newArray</span></code></a> ([length=0])</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newErrorObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newErrorObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newErrorObject</span></code></a> (errorType[, message=”“])</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newObject</span></code></a> ()</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQMetaObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQMetaObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newQMetaObject</span></code></a> (metaObject)</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newQObject</span></code></a> (object)</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">throwError</span></code></a> (errorType[, message=”“])</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">throwError</span></code></a> (message)</p></li>
<li><p>def <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.toScriptValue" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.toScriptValue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toScriptValue</span></code></a> (arg__1)</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="detailed-description">
<h2>Detailed Description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">¶</a></h2>
<blockquote id="more">
<div></div></blockquote>
<div class="section" id="evaluating-scripts">
<span id="pyside2-qtqml-qjsengine-evaluating-scripts"></span><h3>Evaluating Scripts<a class="headerlink" href="#evaluating-scripts" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Use <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> to evaluate script code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QJSEngine</span> <span class="n">myEngine</span><span class="p">;</span>
<span class="n">QJSValue</span> <span class="n">three</span> <span class="o">=</span> <span class="n">myEngine</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;1 + 2&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p><a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> returns a <a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a> that holds the result of the evaluation. The <a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a> class provides functions for converting the result to various C++ types (e.g. <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.toString" title="PySide2.QtQml.PySide2.QtQml.QJSValue.toString"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toString()</span></code></a> and <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.toNumber" title="PySide2.QtQml.PySide2.QtQml.QJSValue.toNumber"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toNumber()</span></code></a> ).</p>
<p>The following code snippet shows how a script function can be defined and then invoked from C++ using <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.call" title="PySide2.QtQml.PySide2.QtQml.QJSValue.call"><code class="xref py py-meth docutils literal notranslate"><span class="pre">call()</span></code></a> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QJSValue</span> <span class="n">fun</span> <span class="o">=</span> <span class="n">myEngine</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;(function(a, b) { return a + b; })&quot;</span><span class="p">);</span>
<span class="n">QJSValueList</span> <span class="n">args</span><span class="p">;</span>
<span class="n">args</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">QJSValue</span> <span class="n">threeAgain</span> <span class="o">=</span> <span class="n">fun</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
</pre></div>
</div>
<p>As can be seen from the above snippets, a script is provided to the engine in the form of a string. One common way of loading scripts is by reading the contents of a file and passing it to <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>QString fileName = &quot;helloworld.qs&quot;;
QFile scriptFile(fileName);
if (!scriptFile.open(QIODevice::ReadOnly))
    // handle error
QTextStream stream(&amp;scriptFile);
QString contents = stream.readAll();
scriptFile.close();
myEngine.evaluate(contents, fileName);
</pre></div>
</div>
<p>Here we pass the name of the file as the second argument to <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> . This does not affect evaluation in any way; the second argument is a general-purpose string that is stored in the <code class="docutils literal notranslate"><span class="pre">Error</span></code> object for debugging purposes.</p>
<p>For larger pieces of functionality, you may want to encapsulate your code and data into modules. A module is a file that contains script code, variables, etc., and uses export statements to describe its interface towards the rest of the application. With the help of import statements, a module can refer to functionality from other modules. This allows building a scripted application from smaller connected building blocks in a safe way. In contrast, the approach of using <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> carries the risk that internal variables or functions from one <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> call accidentally pollute the global object and affect subsequent evaluations.</p>
<p>The following example provides a module that can add numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">function</span> <span class="nb">sum</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="n">right</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This module can be loaded with QJSEngine::import() if it is saved under the name <code class="docutils literal notranslate"><span class="pre">math.mjs</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QJSvalue</span> <span class="n">module</span> <span class="o">=</span> <span class="n">myEngine</span><span class="o">.</span><span class="n">importModule</span><span class="p">(</span><span class="s2">&quot;./math.mjs&quot;</span><span class="p">);</span>
<span class="n">QJSValue</span> <span class="n">sumFunction</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">property</span><span class="p">(</span><span class="s2">&quot;sum&quot;</span><span class="p">);</span>
<span class="n">QJSValue</span> <span class="n">result</span> <span class="o">=</span> <span class="n">sumFunction</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
</pre></div>
</div>
<p>Modules can also use functionality from other modules using import statements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="nb">sum</span> <span class="p">}</span> <span class="kn">from</span> <span class="s2">&quot;./math.mjs&quot;</span><span class="p">;</span>
<span class="n">export</span> <span class="n">function</span> <span class="n">addTwice</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="engine-configuration">
<span id="pyside2-qtqml-qjsengine-engine-configuration"></span><h3>Engine Configuration<a class="headerlink" href="#engine-configuration" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">globalObject()</span></code></a> function returns the <strong>Global Object</strong> associated with the script engine. Properties of the Global Object are accessible from any script code (i.e. they are global variables). Typically, before evaluating “user” scripts, you will want to configure a script engine by adding one or more properties to the Global Object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myEngine</span><span class="o">.</span><span class="n">globalObject</span><span class="p">()</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;myNumber&quot;</span><span class="p">,</span> <span class="mi">123</span><span class="p">);</span>
<span class="o">...</span>
<span class="n">QJSValue</span> <span class="n">myNumberPlusOne</span> <span class="o">=</span> <span class="n">myEngine</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;myNumber + 1&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Adding custom properties to the scripting environment is one of the standard means of providing a scripting API that is specific to your application. Usually these custom properties are objects created by the <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newQObject()</span></code></a> or <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newObject()</span></code></a> functions.</p>
</div></blockquote>
</div>
<div class="section" id="script-exceptions">
<span id="pyside2-qtqml-qjsengine-script-exceptions"></span><h3>Script Exceptions<a class="headerlink" href="#script-exceptions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> can throw a script exception (e.g. due to a syntax error). If it does, then <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> returns the value that was thrown (typically an <code class="docutils literal notranslate"><span class="pre">Error</span></code> object). Use <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.isError" title="PySide2.QtQml.PySide2.QtQml.QJSValue.isError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isError()</span></code></a> to check for exceptions.</p>
<p>For detailed information about the error, use <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.toString" title="PySide2.QtQml.PySide2.QtQml.QJSValue.toString"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toString()</span></code></a> to obtain an error message, and use <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.property" title="PySide2.QtQml.PySide2.QtQml.QJSValue.property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">property()</span></code></a> to query the properties of the <code class="docutils literal notranslate"><span class="pre">Error</span></code> object. The following properties are available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fileName</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lineNumber</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stack</span></code></p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QJSValue</span> <span class="n">result</span> <span class="o">=</span> <span class="n">myEngine</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="o">...</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">isError</span><span class="p">())</span>
    <span class="n">qDebug</span><span class="p">()</span>
            <span class="o">&lt;&lt;</span> <span class="s2">&quot;Uncaught exception at line&quot;</span>
            <span class="o">&lt;&lt;</span> <span class="n">result</span><span class="o">.</span><span class="n">property</span><span class="p">(</span><span class="s2">&quot;lineNumber&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toInt</span><span class="p">()</span>
            <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">result</span><span class="o">.</span><span class="n">toString</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="script-object-creation">
<span id="pyside2-qtqml-qjsengine-script-object-creation"></span><h3>Script Object Creation<a class="headerlink" href="#script-object-creation" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Use <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newObject()</span></code></a> to create a JavaScript object; this is the C++ equivalent of the script statement <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">Object()</span></code> . You can use the object-specific functionality in <a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a> to manipulate the script object (e.g. <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.setProperty" title="PySide2.QtQml.PySide2.QtQml.QJSValue.setProperty"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setProperty()</span></code></a> ). Similarly, use <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newArray" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newArray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newArray()</span></code></a> to create a JavaScript array object.</p>
</div></blockquote>
</div>
<div class="section" id="qobject-integration">
<span id="pyside2-qtqml-qjsengine-qobject-integration"></span><h3>QObject Integration<a class="headerlink" href="#qobject-integration" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Use <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newQObject()</span></code></a> to wrap a <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></a> (or subclass) pointer. <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newQObject()</span></code></a> returns a proxy script object; properties, children, and signals and slots of the <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></a> are available as properties of the proxy object. No binding code is needed because it is done dynamically using the Qt meta object system.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QPushButton</span> <span class="o">*</span><span class="n">button</span> <span class="o">=</span> <span class="n">new</span> <span class="n">QPushButton</span><span class="p">;</span>
<span class="n">QJSValue</span> <span class="n">scriptButton</span> <span class="o">=</span> <span class="n">myEngine</span><span class="o">.</span><span class="n">newQObject</span><span class="p">(</span><span class="n">button</span><span class="p">);</span>
<span class="n">myEngine</span><span class="o">.</span><span class="n">globalObject</span><span class="p">()</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;button&quot;</span><span class="p">,</span> <span class="n">scriptButton</span><span class="p">);</span>

<span class="n">myEngine</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;button.checkable = true&quot;</span><span class="p">);</span>

<span class="n">qDebug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">scriptButton</span><span class="o">.</span><span class="n">property</span><span class="p">(</span><span class="s2">&quot;checkable&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toBool</span><span class="p">();</span>
<span class="n">scriptButton</span><span class="o">.</span><span class="n">property</span><span class="p">(</span><span class="s2">&quot;show&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">();</span> <span class="o">//</span> <span class="n">call</span> <span class="n">the</span> <span class="n">show</span><span class="p">()</span> <span class="n">slot</span>
</pre></div>
</div>
<p>Use <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQMetaObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQMetaObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newQMetaObject()</span></code></a> to wrap a <a class="reference internal" href="../QtCore/QMetaObject.html#PySide2.QtCore.QMetaObject" title="PySide2.QtCore.QMetaObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QMetaObject</span></code></a> ; this gives you a “script representation” of a <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></a> -based class. <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQMetaObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQMetaObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newQMetaObject()</span></code></a> returns a proxy script object; enum values of the class are available as properties of the proxy object.</p>
<p>Constructors exposed to the meta-object system (using <code class="xref py py-meth docutils literal notranslate"><span class="pre">Q_INVOKABLE</span></code> ) can be called from the script to create a new <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></a> instance with JavaScriptOwnership. For example, given the following class definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyObject</span> <span class="p">:</span> <span class="n">public</span> <span class="n">QObject</span>
<span class="p">{</span>
    <span class="n">Q_OBJECT</span>

<span class="n">public</span><span class="p">:</span>
    <span class="n">Q_INVOKABLE</span> <span class="n">MyObject</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">staticMetaObject</span></code> for the class can be exposed to JavaScript like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QJSValue</span> <span class="n">jsMetaObject</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">newQMetaObject</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MyObject</span><span class="p">::</span><span class="n">staticMetaObject</span><span class="p">);</span>
<span class="n">engine</span><span class="o">.</span><span class="n">globalObject</span><span class="p">()</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;MyObject&quot;</span><span class="p">,</span> <span class="n">jsMetaObject</span><span class="p">);</span>
</pre></div>
</div>
<p>Instances of the class can then be created in JavaScript:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;var myObject = new MyObject()&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently only classes using the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Q_OBJECT</span></code> macro are supported; it is not possible to expose the <code class="docutils literal notranslate"><span class="pre">staticMetaObject</span></code> of a <code class="xref py py-meth docutils literal notranslate"><span class="pre">Q_GADGET</span></code> class to JavaScript.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="dynamic-qobject-properties">
<span id="pyside2-qtqml-qjsengine-dynamic-qobject-properties"></span><h3>Dynamic QObject Properties<a class="headerlink" href="#dynamic-qobject-properties" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Dynamic <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></a> properties are not supported. For example, the following code will not work:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QJSEngine</span> <span class="n">engine</span><span class="p">;</span>

<span class="n">QObject</span> <span class="o">*</span><span class="n">myQObject</span> <span class="o">=</span> <span class="n">new</span> <span class="n">QObject</span><span class="p">();</span>
<span class="n">myQObject</span><span class="o">-&gt;</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;dynamicProperty&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

<span class="n">QJSValue</span> <span class="n">myScriptQObject</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">newQObject</span><span class="p">(</span><span class="n">myQObject</span><span class="p">);</span>
<span class="n">engine</span><span class="o">.</span><span class="n">globalObject</span><span class="p">()</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;myObject&quot;</span><span class="p">,</span> <span class="n">myScriptQObject</span><span class="p">);</span>

<span class="n">qDebug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">engine</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;myObject.dynamicProperty&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toInt</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="extensions">
<span id="pyside2-qtqml-qjsengine-extensions"></span><h3>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><a class="reference internal" href="#PySide2.QtQml.QJSEngine" title="PySide2.QtQml.QJSEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSEngine</span></code></a> provides a compliant ECMAScript implementation. By default, familiar utilities like logging are not available, but they can can be installed via the <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.installExtensions" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.installExtensions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">installExtensions()</span></code></a> function.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a>  <span class="xref std std-ref">Making Applications Scriptable</span>  <span class="xref std std-ref">List of JavaScript Objects and Functions</span></p>
</div>
</div></blockquote>
<dl class="class">
<dt id="PySide2.QtQml.QJSEngine">
<em class="property">class </em><code class="sig-name descname">QJSEngine</code><a class="headerlink" href="#PySide2.QtQml.QJSEngine" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><blockquote>
<div><p>QJSEngine(parent)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">param parent</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></p>
</dd>
</dl>
</div></blockquote>
<p>Constructs a <a class="reference internal" href="#PySide2.QtQml.QJSEngine" title="PySide2.QtQml.QJSEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSEngine</span></code></a> object.</p>
<p>The <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">globalObject()</span></code></a> is initialized to have properties as described in <span class="xref std std-ref">ECMA-262</span> , Section 15.1.</p>
<p>Constructs a <a class="reference internal" href="#PySide2.QtQml.QJSEngine" title="PySide2.QtQml.QJSEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSEngine</span></code></a> object with the given <code class="docutils literal notranslate"><span class="pre">parent</span></code> .</p>
<p>The <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">globalObject()</span></code></a> is initialized to have properties as described in <span class="xref std std-ref">ECMA-262</span> , Section 15.1.</p>
</dd></dl>

<dl class="attribute">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.Extension">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">Extension</code><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.Extension" title="Permalink to this definition">¶</a></dt>
<dd><p>This enum is used to specify extensions to be installed via <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.installExtensions" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.installExtensions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">installExtensions()</span></code></a> .</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>QJSEngine.TranslationExtension</p></td>
<td><p>Indicates that translation functions (<code class="docutils literal notranslate"><span class="pre">qsTr()</span></code>, for example) should be installed.</p></td>
</tr>
<tr class="row-odd"><td><p>QJSEngine.ConsoleExtension</p></td>
<td><p>Indicates that console functions (<code class="docutils literal notranslate"><span class="pre">console.log()</span></code>, for example) should be installed.</p></td>
</tr>
<tr class="row-even"><td><p>QJSEngine.GarbageCollectionExtension</p></td>
<td><p>Indicates that garbage collection functions (<code class="docutils literal notranslate"><span class="pre">gc()</span></code>, for example) should be installed.</p></td>
</tr>
<tr class="row-odd"><td><p>QJSEngine.AllExtensions</p></td>
<td><p>Indicates that all extension should be installed.</p></td>
</tr>
</tbody>
</table>
<p><strong>TranslationExtension</strong></p>
<p>The relation between script translation functions and C++ translation functions is described in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Script Function</p></td>
<td><p>Corresponding C++ Function</p></td>
</tr>
<tr class="row-even"><td><p>qsTr()</p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">tr()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TR_NOOP()</span></code></p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TR_NOOP()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>qsTranslate()</p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">translate()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TRANSLATE_NOOP()</span></code></p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TRANSLATE_NOOP()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>qsTrId()</p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">qtTrId()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TRID_NOOP()</span></code></p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TRID_NOOP()</span></code></p></td>
</tr>
</tbody>
</table>
<p>This flag also adds an <code class="docutils literal notranslate"><span class="pre">arg()</span></code> function to the string prototype.</p>
<p>For more information, see the Internationalization with Qt documentation.</p>
<p><strong>ConsoleExtension</strong></p>
<p>The console object implements a subset of the Console API, which provides familiar logging functions, such as <code class="docutils literal notranslate"><span class="pre">console.log()</span></code> .</p>
<p>The list of functions added is as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">console.assert()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.debug()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.exception()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.info()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.log()</span></code> (equivalent to <code class="docutils literal notranslate"><span class="pre">console.debug()</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.error()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.time()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.timeEnd()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.trace()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.count()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.warn()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print()</span></code> (equivalent to <code class="docutils literal notranslate"><span class="pre">console.debug()</span></code>)</p></li>
</ul>
<p>For more information, see the Console API documentation.</p>
<p><strong>GarbageCollectionExtension</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">gc()</span></code> function is equivalent to calling <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.collectGarbage" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.collectGarbage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collectGarbage()</span></code></a> .</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 5.6.</span></p>
</div>
<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.collectGarbage">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">collectGarbage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.collectGarbage" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the garbage collector.</p>
<p>The garbage collector will attempt to reclaim memory by locating and disposing of objects that are no longer reachable in the script environment.</p>
<p>Normally you don’t need to call this function; the garbage collector will automatically be invoked when the <a class="reference internal" href="#PySide2.QtQml.QJSEngine" title="PySide2.QtQml.QJSEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSEngine</span></code></a> decides that it’s wise to do so (i.e. when a certain number of new objects have been created). However, you can call this function to explicitly request that garbage collection should be performed as soon as possible.</p>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param">program</em><span class="optional">[</span>, <em class="sig-param">fileName=&quot;&quot;</em><span class="optional">[</span>, <em class="sig-param">lineNumber=1</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>program</strong> – unicode</p></li>
<li><p><strong>fileName</strong> – unicode</p></li>
<li><p><strong>lineNumber</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<p>Evaluates <code class="docutils literal notranslate"><span class="pre">program</span></code> , using <code class="docutils literal notranslate"><span class="pre">lineNumber</span></code> as the base line number, and returns the result of the evaluation.</p>
<p>The script code will be evaluated in the context of the global object.</p>
<p>The evaluation of <code class="docutils literal notranslate"><span class="pre">program</span></code> can cause an <code class="xref py py-class docutils literal notranslate"><span class="pre">exception</span></code> in the engine; in this case the return value will be the exception that was thrown (typically an <code class="docutils literal notranslate"><span class="pre">Error</span></code> object; see <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.isError" title="PySide2.QtQml.PySide2.QtQml.QJSValue.isError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isError()</span></code></a> ).</p>
<p><code class="docutils literal notranslate"><span class="pre">lineNumber</span></code> is used to specify a starting line number for <code class="docutils literal notranslate"><span class="pre">program</span></code> ; line number information reported by the engine that pertains to this evaluation will be based on this argument. For example, if <code class="docutils literal notranslate"><span class="pre">program</span></code> consists of two lines of code, and the statement on the second line causes a script exception, the exception line number would be <code class="docutils literal notranslate"><span class="pre">lineNumber</span></code> plus one. When no starting line number is specified, line numbers will be 1-based.</p>
<p><code class="docutils literal notranslate"><span class="pre">fileName</span></code> is used for error reporting. For example, in error objects the file name is accessible through the “fileName” property if it is provided with this function.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If an exception was thrown and the exception value is not an Error instance (i.e., <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.isError" title="PySide2.QtQml.PySide2.QtQml.QJSValue.isError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isError()</span></code></a> returns <code class="docutils literal notranslate"><span class="pre">false</span></code> ), the exception value will still be returned, but there is currently no API for detecting that an exception did occur in this case.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">globalObject</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<p>Returns this engine’s Global Object.</p>
<p>By default, the Global Object contains the built-in objects that are part of <span class="xref std std-ref">ECMA-262</span> , such as Math, Date and String. Additionally, you can set properties of the Global Object to make your own extensions available to all script code. Non-local variables in script code will be created as properties of the Global Object, as well as local variables in global code.</p>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.importModule">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">importModule</code><span class="sig-paren">(</span><em class="sig-param">fileName</em><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.importModule" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fileName</strong> – unicode</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<p>Imports the module located at <code class="docutils literal notranslate"><span class="pre">fileName</span></code> and returns a module namespace object that contains all exported variables, constants and functions as properties.</p>
<p>If this is the first time the module is imported in the engine, the file is loaded from the specified location in either the local file system or the Qt resource system and evaluated as an ECMAScript module. The file is expected to be encoded in UTF-8 text.</p>
<p>Subsequent imports of the same module will return the previously imported instance. Modules are singletons and remain around until the engine is destroyed.</p>
<p>The specified <code class="docutils literal notranslate"><span class="pre">fileName</span></code> will internally be normalized using <code class="xref py py-meth docutils literal notranslate"><span class="pre">canonicalFilePath()</span></code> . That means that multiple imports of the same file on disk using different relative paths will load the file only once.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If an exception is thrown during the loading of the module, the return value will be the exception (typically an <code class="docutils literal notranslate"><span class="pre">Error</span></code> object; see <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.isError" title="PySide2.QtQml.PySide2.QtQml.QJSValue.isError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isError()</span></code></a> ).</p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.installExtensions">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">installExtensions</code><span class="sig-paren">(</span><em class="sig-param">extensions</em><span class="optional">[</span>, <em class="sig-param">object=QJSValue()</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.installExtensions" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extensions</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">Extensions</span></code></p></li>
<li><p><strong>object</strong> – <a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p></li>
</ul>
</dd>
</dl>
<p>Installs JavaScript <code class="docutils literal notranslate"><span class="pre">extensions</span></code> to add functionality that is not available in a standard ECMAScript implementation.</p>
<p>The extensions are installed on the given <code class="docutils literal notranslate"><span class="pre">object</span></code> , or on the <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.globalObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Global</span> <span class="pre">Object</span></code></a> if no object is specified.</p>
<p>Several extensions can be installed at once by <code class="docutils literal notranslate"><span class="pre">OR</span></code> -ing the enum values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">installExtensions</span><span class="p">(</span><span class="n">QJSEngine</span><span class="p">::</span><span class="n">TranslationExtension</span> <span class="o">|</span> <span class="n">QJSEngine</span><span class="p">::</span><span class="n">ConsoleExtension</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Extension</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.installTranslatorFunctions">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">installTranslatorFunctions</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">object=QJSValue()</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.installTranslatorFunctions" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object</strong> – <a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is deprecated.</p>
</div>
<p>Installs translator functions on the given <code class="docutils literal notranslate"><span class="pre">object</span></code> , or on the Global Object if no object is specified.</p>
<p>The relation between script translator functions and C++ translator functions is described in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Script Function</p></td>
<td><p>Corresponding C++ Function</p></td>
</tr>
<tr class="row-even"><td><p>qsTr()</p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">tr()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TR_NOOP()</span></code></p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TR_NOOP()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>qsTranslate()</p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">translate()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TRANSLATE_NOOP()</span></code></p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TRANSLATE_NOOP()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>qsTrId()</p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">qtTrId()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TRID_NOOP()</span></code></p></td>
<td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">QT_TRID_NOOP()</span></code></p></td>
</tr>
</tbody>
</table>
<p>It also adds an arg() method to the string prototype.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Internationalization</span> <span class="pre">with</span> <span class="pre">Qt</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.newArray">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">newArray</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">length=0</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newArray" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>length</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">uint</span></code></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<p>Creates a JavaScript object of class Array with the given <code class="docutils literal notranslate"><span class="pre">length</span></code> .</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newObject()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.newErrorObject">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">newErrorObject</code><span class="sig-paren">(</span><em class="sig-param">errorType</em><span class="optional">[</span>, <em class="sig-param">message=&quot;&quot;</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newErrorObject" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>errorType</strong> – <code class="xref py py-attr docutils literal notranslate"><span class="pre">ErrorType</span></code></p></li>
<li><p><strong>message</strong> – unicode</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<p>Creates a JavaScript object of class Error.</p>
<p>The prototype of the created object will be <code class="docutils literal notranslate"><span class="pre">errorType</span></code> .</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newObject()</span></code></a>  <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">throwError()</span></code></a>  <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.isError" title="PySide2.QtQml.PySide2.QtQml.QJSValue.isError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isError()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">newObject</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newObject" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<p>Creates a JavaScript object of class Object.</p>
<p>The prototype of the created object will be the Object prototype object.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newArray" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newArray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newArray()</span></code></a>  <a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.setProperty" title="PySide2.QtQml.PySide2.QtQml.QJSValue.setProperty"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setProperty()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQMetaObject">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">newQMetaObject</code><span class="sig-paren">(</span><em class="sig-param">metaObject</em><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQMetaObject" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metaObject</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">QMetaObject</span></code></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<p>Creates a JavaScript object that wraps the given <a class="reference internal" href="../QtCore/QMetaObject.html#PySide2.QtCore.QMetaObject" title="PySide2.QtCore.QMetaObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QMetaObject</span></code></a> The <code class="docutils literal notranslate"><span class="pre">metaObject</span></code> must outlive the script engine. It is recommended to only use this method with static metaobjects.</p>
<p>When called as a constructor, a new instance of the class will be created. Only constructors exposed by <code class="xref py py-meth docutils literal notranslate"><span class="pre">Q_INVOKABLE</span></code> will be visible from the script engine.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newQObject()</span></code></a>  <code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span> <span class="pre">Integration</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">newQObject</code><span class="sig-paren">(</span><em class="sig-param">object</em><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newQObject" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
<p>Creates a JavaScript object that wraps the given <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></a> <code class="docutils literal notranslate"><span class="pre">object</span></code> , using JavaScriptOwnership.</p>
<p>Signals and slots, properties and children of <code class="docutils literal notranslate"><span class="pre">object</span></code> are available as properties of the created <a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a> .</p>
<p>If <code class="docutils literal notranslate"><span class="pre">object</span></code> is a null pointer, this function returns a null value.</p>
<p>If a default prototype has been registered for the <code class="docutils literal notranslate"><span class="pre">object</span></code> ‘s class (or its superclass, recursively), the prototype of the new script object will be set to be that default prototype.</p>
<p>If the given <code class="docutils literal notranslate"><span class="pre">object</span></code> is deleted outside of the engine’s control, any attempt to access the deleted <a class="reference internal" href="../QtCore/QObject.html#PySide2.QtCore.QObject" title="PySide2.QtCore.QObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">QObject</span></code></a> ‘s members through the JavaScript wrapper object (either by script code or C++) will result in a <code class="xref py py-class docutils literal notranslate"><span class="pre">script</span> <span class="pre">exception</span></code> .</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.PySide2.QtQml.QJSValue.toQObject" title="PySide2.QtQml.PySide2.QtQml.QJSValue.toQObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toQObject()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">throwError</code><span class="sig-paren">(</span><em class="sig-param">errorType</em><span class="optional">[</span>, <em class="sig-param">message=&quot;&quot;</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>errorType</strong> – <code class="xref py py-attr docutils literal notranslate"><span class="pre">ErrorType</span></code></p></li>
<li><p><strong>message</strong> – unicode</p></li>
</ul>
</dd>
</dl>
<p>This function overloads <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.throwError"><code class="xref py py-meth docutils literal notranslate"><span class="pre">throwError()</span></code></a> .</p>
<p>Throws a run-time error (exception) with the given <code class="docutils literal notranslate"><span class="pre">errorType</span></code> and <code class="docutils literal notranslate"><span class="pre">message</span></code> .</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Assuming</span> <span class="n">that</span> <span class="n">DataEntry</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">QObject</span><span class="o">-</span><span class="n">derived</span> <span class="k">class</span> <span class="nc">that</span> <span class="n">has</span> <span class="n">been</span>
<span class="o">//</span> <span class="n">registered</span> <span class="k">as</span> <span class="n">a</span> <span class="n">singleton</span> <span class="nb">type</span> <span class="ow">and</span> <span class="n">provides</span> <span class="n">an</span> <span class="n">invokable</span> <span class="n">method</span>
<span class="o">//</span> <span class="n">setAge</span><span class="p">()</span><span class="o">.</span>

<span class="n">void</span> <span class="n">DataEntry</span><span class="p">::</span><span class="n">setAge</span><span class="p">(</span><span class="nb">int</span> <span class="n">age</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">age</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">jsEngine</span><span class="o">-&gt;</span><span class="n">throwError</span><span class="p">(</span><span class="n">QJSValue</span><span class="p">::</span><span class="n">RangeError</span><span class="p">,</span>
                         <span class="s2">&quot;Age must be between 0 and 200&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Script</span> <span class="pre">Exceptions</span></code>  <a class="reference internal" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.newErrorObject" title="PySide2.QtQml.PySide2.QtQml.QJSEngine.newErrorObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newErrorObject()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">throwError</code><span class="sig-paren">(</span><em class="sig-param">message</em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> – unicode</p>
</dd>
</dl>
<p>Throws a run-time error (exception) with the given <code class="docutils literal notranslate"><span class="pre">message</span></code> .</p>
<p>This method is the C++ counterpart of a <code class="docutils literal notranslate"><span class="pre">throw()</span></code> expression in JavaScript. It enables C++ code to report run-time errors to <a class="reference internal" href="#PySide2.QtQml.QJSEngine" title="PySide2.QtQml.QJSEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSEngine</span></code></a> . Therefore it should only be called from C++ code that was invoked by a JavaScript function through <a class="reference internal" href="#PySide2.QtQml.QJSEngine" title="PySide2.QtQml.QJSEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSEngine</span></code></a> .</p>
<p>When returning from C++, the engine will interrupt the normal flow of execution and call the the next pre-registered exception handler with an error object that contains the given <code class="docutils literal notranslate"><span class="pre">message</span></code> . The error object will point to the location of the top-most context on the JavaScript caller stack; specifically, it will have properties <code class="docutils literal notranslate"><span class="pre">lineNumber</span></code> , <code class="docutils literal notranslate"><span class="pre">fileName</span></code> and <code class="docutils literal notranslate"><span class="pre">stack</span></code> . These properties are described in <code class="xref py py-class docutils literal notranslate"><span class="pre">Script</span> <span class="pre">Exceptions</span></code> .</p>
<p>In the following example a C++ method in <em>FileAccess.cpp</em> throws an error in <em>qmlFile.qml</em> at the position where <code class="docutils literal notranslate"><span class="pre">readFileAsText()</span></code> is called:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">qmlFile</span><span class="o">.</span><span class="n">qml</span>
<span class="n">function</span> <span class="n">someFunction</span><span class="p">()</span> <span class="p">{</span>
  <span class="o">...</span>
  <span class="n">var</span> <span class="n">text</span> <span class="o">=</span> <span class="n">FileAccess</span><span class="o">.</span><span class="n">readFileAsText</span><span class="p">(</span><span class="s2">&quot;/path/to/file.txt&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// FileAccess.cpp
// Assuming that FileAccess is a QObject-derived class that has been
// registered as a singleton type and provides an invokable method
// readFileAsText()

QJSValue FileAccess::readFileAsText(const QString &amp; filePath) {
  QFile file(filePath);

  if (!file.open(QIODevice::ReadOnly)) {
    jsEngine-&gt;throwError(file.errorString());
    return QString();
  }

  ...
  return content;
}
</pre></div>
</div>
<p>It is also possible to catch the thrown error in JavaScript:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">qmlFile</span><span class="o">.</span><span class="n">qml</span>
<span class="n">function</span> <span class="n">someFunction</span><span class="p">()</span> <span class="p">{</span>
  <span class="o">...</span>
  <span class="n">var</span> <span class="n">text</span><span class="p">;</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">FileAccess</span><span class="o">.</span><span class="n">readFileAsText</span><span class="p">(</span><span class="s2">&quot;/path/to/file.txt&quot;</span><span class="p">);</span>
  <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">console</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;In &quot;</span> <span class="o">+</span> <span class="n">error</span><span class="o">.</span><span class="n">fileName</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="s2">&quot;error.lineNumber&quot;</span> <span class="o">+</span>
                 <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="n">error</span><span class="o">.</span><span class="n">message</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you need a more specific run-time error to describe an exception, you can use the <code class="xref py py-meth docutils literal notranslate"><span class="pre">ErrorType</span> <span class="pre">errorType,</span> <span class="pre">const</span> <span class="pre">QString</span> <span class="pre">&amp;message)</span></code> overload.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Script</span> <span class="pre">Exceptions</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide2.QtQml.PySide2.QtQml.QJSEngine.toScriptValue">
<code class="sig-prename descclassname">PySide2.QtQml.QJSEngine.</code><code class="sig-name descname">toScriptValue</code><span class="sig-paren">(</span><em class="sig-param">arg__1</em><span class="sig-paren">)</span><a class="headerlink" href="#PySide2.QtQml.PySide2.QtQml.QJSEngine.toScriptValue" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arg__1</strong> – object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="QJSValue.html#PySide2.QtQml.QJSValue" title="PySide2.QtQml.QJSValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJSValue</span></code></a></p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <p>© 2019 The Qt Company Ltd. Documentation contributions included herein are the copyrights of their respective owners. The documentation provided herein is licensed under the terms of the <a href="http://www.gnu.org/license/fdl.html">GNU Free Documentation License version 1.3</a> as published by the Free Software Foundation. Qt and respective logos are trademarks of The Qt Company Ltd. in Finland and/or other countries worldwide. All other trademarks are property of their respective owners.</p>
    </div></div>
    <div id="footer" class="footer">
    </div>
</div>
  </body>
</html>