<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>panelHistory command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="CommandsPython-panelHistory"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (Python)</font></td>
			<td align="right"><font size="-1"><i><a href="../Commands/panelHistory.html">MEL version</a></i></font></td>
		  </tr><tr>
		  <td><h1>panelHistory </h1></td>
			<td align="right">In categories: <a href="cat_Windows.html" target="contentFrame">Windows</a>, <a href="cat_Windows.html#Panels" target="contentFrame">Panels</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("panelHistory.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">Python examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>panelHistory(
[name]
    , [<a href="#flagback">back</a>=<i>boolean</i>], [<a href="#flagclear">clear</a>=<i>boolean</i>], [<a href="#flagdefineTemplate">defineTemplate</a>=<i>string</i>], [<a href="#flagexists">exists</a>=<i>boolean</i>], [<a href="#flagforward">forward</a>=<i>boolean</i>], [<a href="#flaghistoryDepth">historyDepth</a>=<i>int</i>], [<a href="#flagisEmpty">isEmpty</a>=<i>boolean</i>], [<a href="#flagsuspend">suspend</a>=<i>boolean</i>], [<a href="#flagtargetPane">targetPane</a>=<i>string</i>], [<a href="#flaguseTemplate">useTemplate</a>=<i>string</i>], [<a href="#flagwrap">wrap</a>=<i>boolean</i>]) </code> <br><br><font size="-1"><i>Note: Strings representing object names and arguments must be separated by commas. This is not depicted in the synopsis.</i></font></p>
      <p>panelHistory is undoable, queryable, and editable.</p>
      This command creates a panel history object.  The object is targeted on a
particular paneLayout and thereafter notes changes in panel configurations
within that paneLayout, building up a history list.  The list can be stepped
through backwards or forwards.
<p>
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>string</i></td><td>The name of the panelHistory object created.</td></tr></table><p>In query mode, return type is based on queried flag.</p>
      
      

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagback">back</a>, <a href="#flagclear">clear</a>, <a href="#flagdefineTemplate">defineTemplate</a>, <a href="#flagexists">exists</a>, <a href="#flagforward">forward</a>, <a href="#flaghistoryDepth">historyDepth</a>, <a href="#flagisEmpty">isEmpty</a>, <a href="#flagsuspend">suspend</a>, <a href="#flagtargetPane">targetPane</a>, <a href="#flaguseTemplate">useTemplate</a>, <a href="#flagwrap">wrap</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        <tr bgcolor="#DDDDDD"><td colspan="3"><u></u></td></tr>

    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagback">
          <code><b>back</b>(<b>b</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Go back one level on the history list.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagclear">
          <code><b>clear</b>(<b>cl</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Clear the history stack
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagdefineTemplate">
          <code><b>defineTemplate</b>(<b>dt</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Puts the command in a mode where any other flags and arguments are
parsed and added to the command template specified in the argument.
They will be used as default arguments in any subsequent
invocations of the command when templateName is set as the
current template.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagexists">
          <code><b>exists</b>(<b>ex</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns whether the
specified object exists or not. Other flags are ignored.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagforward">
          <code><b>forward</b>(<b>f</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Go forward one level on the history list.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaghistoryDepth">
          <code><b>historyDepth</b>(<b>hd</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>int</i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies how many levels of history are maintained.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagisEmpty">
          <code><b>isEmpty</b>(<b>ie</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns true if there is currently no panel history.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagsuspend">
          <code><b>suspend</b>(<b>s</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies whether to suspend or resume updates to the panel history.
Useful for chunking a number of changes into one history event.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagtargetPane">
          <code><b>targetPane</b>(<b>tp</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies which paneLayout the history will be maintained for.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaguseTemplate">
          <code><b>useTemplate</b>(<b>ut</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Forces the command to use a command template other than
the current one.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagwrap">
          <code><b>wrap</b>(<b>w</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies whether the history will wrap at the end and
beginning.  This value is true by default.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can have multiple arguments, passed either as a tuple or a list.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">Python examples</a></h2><pre>import maya.cmds as cmds

#    Create a window containing a pane layout.  The window also contains
#    an option menu for changing the layout configuration and two buttons
#    for stepping through the configuration history.
#
window = cmds.window( title='panelHistory Example' )
form = cmds.formLayout()

#    Create the option menu for panel configuration.
#
configuration = cmds.optionMenuGrp( label='Configuration', columnWidth2=( 100, 150 ) )

single = cmds.menuItem( label='Single' )
stacked = cmds.menuItem( label='2 Stacked' )
sideBySide = cmds.menuItem( label='2 Side by Side' )
four = cmds.menuItem( label='Four' )

#    Create the buttons for stepping through configuration history.
#
history = cmds.rowLayout( numberOfColumns=3 , columnWidth3=( 100, 75, 75 ),
						  columnAttach=[( 2, 'both', 0 ),( 3, 'both', 0 )] )
cmds.text( label='History' )
backBtn = cmds.button( label='Back' )
forwardBtn = cmds.button( label='Forward' )
cmds.setParent( '..' )

#    Create the pane layout.
#
frame = cmds.frameLayout( labelVisible=False )
panes = cmds.paneLayout()
cmds.text( label='Pane 1' )
cmds.text( label='Pane 2' )
cmds.text( label='Pane 3' )
cmds.text( label='Pane 4' )

#    Set up the attachments.
#
cmds.formLayout( form, edit=True,
				 attachForm=[(configuration, 'top', 5),
							 (configuration, 'left', 5),
							 (history, 'left', 5),
							 (history, 'right', 5),
							 (frame, 'left', 5),
							 (frame, 'right', 5),
							 (frame, 'bottom', 5)],
				 attachControl=[(history, 'top', 5, configuration),
								(frame, 'top', 5, history)] )

#    Create the panel history object.
#
panelHistory = cmds.panelHistory(targetPane=panes)

#    Attach a command to the option menu to change the panel layout
#    configuration accordingly.
#
cmds.optionMenuGrp( configuration,
					edit=True,
					changeCommand=('ExampleUpdatePaneLayout( \&quot;'+ configuration + '\&quot;, \&quot;' + panes + '\&quot; )') )

#    Attach commands to the buttons for stepping through the configuration
#    history.  The commands should also update the value of the option menu.
#
cmds.button( backBtn, edit=True,
			 command='cmds.panelHistory( panelHistory, edit=True, back=True ); ExampleUpdateConfiguration( \&quot;' + configuration + '\&quot;, \&quot;' + panes + '\&quot; )' )
cmds.button( forwardBtn, edit=True,
			 command='cmds.panelHistory( panelHistory, edit=True, forward=True ); ExampleUpdateConfiguration( \&quot;' + configuration + '\&quot;, \&quot;' + panes + '\&quot; )' )

cmds.showWindow( window )

#    Call this procedure whenever the option menu's configuration value
#    changes.  This procedure will update the configuration of the
#    pane layout to reflect the change.
#
def ExampleUpdatePaneLayout( optionMenuGrp, paneLayout ):
	if optionMenuGrp == &quot;&quot; or paneLayout == &quot;&quot;:
		return

	value = cmds.optionMenuGrp( optionMenuGrp, query=True, value=True )
	if value == &quot;Single&quot;:
		cmds.paneLayout( paneLayout, edit=True, configuration='single' )
	elif value == &quot;2 Stacked&quot;:
		cmds.paneLayout( paneLayout, edit=True, configuration='horizontal2' )
	elif value == &quot;2 Side by Side&quot;:
		cmds.paneLayout( paneLayout, edit=True, configuration='vertical2' )
	elif value == &quot;Four&quot;:
		cmds.paneLayout( paneLayout, edit=True, configuration='quad' )

#    Call this procedure whenever the panel configuration changes due to
#    stepping through the panel history (ie. pressing either the &quot;Forward&quot;
#    or &quot;Back&quot; buttons.  This procedure will update the value of the
#    option menu to reflect the new pane layout configuration.
#
def ExampleUpdateConfiguration( optionMenuGrp, paneLayout ):
	if optionMenuGrp == &quot;&quot; or paneLayout == &quot;&quot;:
		return

	configuration = cmds.paneLayout( paneLayout, query=True, configuration=True );

	if configuration == 'single':
		cmds.optionMenuGrp( optionMenuGrp, edit=True, value='Single' )
	elif configuration == 'horizontal2':
		cmds.optionMenuGrp( optionMenuGrp, edit=True, value='2 Stacked' )
	elif configuration == 'vertical2':
		cmds.optionMenuGrp( optionMenuGrp, edit=True, value='2 Side by Side' )
	elif configuration == 'quad':
		cmds.optionMenuGrp( optionMenuGrp, edit=True, value='Four' )

  </pre>































    </body>
  </html>
  

