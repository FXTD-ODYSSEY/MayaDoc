<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>cacheFileMerge command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="CommandsPython-cacheFileMerge"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (Python)</font></td>
			<td align="right"><font size="-1"><i><a href="../Commands/cacheFileMerge.html">MEL version</a></i></font></td>
		  </tr><tr>
		  <td><h1>cacheFileMerge </h1></td>
			<td align="right">In categories: <a href="cat_System.html" target="contentFrame">System</a>, <a href="cat_System.html#Utilities" target="contentFrame">Utilities</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("cacheFileMerge.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hKeywords">Keywords</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">Python examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>cacheFileMerge([<a href="#flagendTime">endTime</a>=<i>time</i>], [<a href="#flaggeometry">geometry</a>=<i>boolean</i>], [<a href="#flagstartTime">startTime</a>=<i>time</i>]) </code> <br><br><font size="-1"><i>Note: Strings representing object names and arguments must be separated by commas. This is not depicted in the synopsis.</i></font></p>
      <p>cacheFileMerge is undoable, queryable, and editable.</p>
      If selected/specified caches can be successfully merged, will return the start/end frames of the new cache followed by the
start/end frames of any gaps in the merged cache for which no data should be written to file. In query mode, will return
the names of geometry associated with the specified cache file nodes.
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>float[]</i></td><td>The start and end times of merged cache followed by start/end of any gaps</td></tr><tr><td valign="top"><i>string[]</i></td><td>Names of geometry associated with specified cache in query mode.</td></tr></table><p>In query mode, return type is based on queried flag.</p>
      <h2><a name="hKeywords">Keywords</a></h2>cache, file, merge, disk
      

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagendTime">endTime</a>, <a href="#flaggeometry">geometry</a>, <a href="#flagstartTime">startTime</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        
    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagendTime">
          <code><b>endTime</b>(<b>et</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>time</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies the end frame of the merge range. If not specified, will figure
out range from times of caches being merged.
			
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaggeometry">
          <code><b>geometry</b>(<b>g</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Query-only flag used to find the geometry nodes associated with the specified cache files.
			
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagstartTime">
          <code><b>startTime</b>(<b>st</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>time</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies the start frame of the merge range. If not specified, will figure
out range from the times of the caches being merged.
			
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can have multiple arguments, passed either as a tuple or a list.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">Python examples</a></h2><pre>import maya.cmds as cmds

# Find associated geometry nodes
#
geom = cmds.cacheFileMerge('cache1', 'cache2' ,query=True, geometry=True)

# Validate merging of caches and find out start/end times.
# This will give a warning if there is a gap letting you know that
# simulation data will fill the gap.
#
startEndTimes = cmds.cacheFileMerge('cache1', 'cache2')
# Result: { 0, 20, 5, 10 }

start = startEndTimes[0]
end = startEndTimes[1]
gapStart = startEndTimes[2]
gapEnd = startEndTimes[3]

# Create a new merged cache, using simulation data to fill in
# any gaps between cache1 and cache2.
#
cacheFiles = cmds.cacheFile(fileName='mergedCache', startTime=start, endTime=end, points=geom[0])
switch = maya.mel.eval('createHistorySwitch(&quot;pPlaneShape1&quot;, false)');
cmds.cacheFile( attachFile=True, f=cacheFiles[0], ia='%s.inp[0]' % switch)
cmds.setAttr( '%s.playFromCache' % switch, 1 )

# Alternatively, can use append to make sure that we interpolate
# for the frames in the gap between cache1 and cache2.
#
cacheFiles = cmds.cacheFile(fileName='mergedCache', startTime=start, endTime=gapStart, points=geom[0])
switch = maya.mel.eval('createHistorySwitch(&quot;pPlane1&quot;, false)');
cmds.cacheFile( attachFile=True, f=cacheFiles[0], ia='%s.inp[0]' % switch)
cmds.setAttr( '%s.playFromCache' % switch, 1 )
cmds.cacheFile( replaceCachedFrame=True, startTime=gapEnd, endTime=end, points=geom[0] )
	</pre>































    </body>
  </html>
  

