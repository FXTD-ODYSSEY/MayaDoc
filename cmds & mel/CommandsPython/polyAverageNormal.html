<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>polyAverageNormal command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="CommandsPython-polyAverageNormal"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (Python)</font></td>
			<td align="right"><font size="-1"><i><a href="../Commands/polyAverageNormal.html">MEL version</a></i></font></td>
		  </tr><tr>
		  <td><h1>polyAverageNormal </h1></td>
			<td align="right">In categories: <a href="cat_Modeling.html" target="contentFrame">Modeling</a>, <a href="cat_Modeling.html#Polygons" target="contentFrame">Polygons</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("polyAverageNormal.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hKeywords">Keywords</a>. <a href="#hRelated">Related</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">Python examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>polyAverageNormal([<a href="#flagallowZeroNormal">allowZeroNormal</a>=<i>boolean</i>], [<a href="#flagdistance">distance</a>=<i>float</i>], [<a href="#flagpostnormalize">postnormalize</a>=<i>boolean</i>], [<a href="#flagprenormalize">prenormalize</a>=<i>boolean</i>], [<a href="#flagreplaceNormalXYZ">replaceNormalXYZ</a>=<i>[float, float, float]</i>]) </code> <br><br><font size="-1"><i>Note: Strings representing object names and arguments must be separated by commas. This is not depicted in the synopsis.</i></font></p>
      <p>polyAverageNormal is undoable, <b>NOT queryable</b>, and <b>NOT editable</b>.</p>
      Set normals of vertices or vertex-faces to an average value when the vertices
within a given threshold.
First, it sorts out the containing edges, and set them to be soft, if it is
possible, so to let the normals appear to be &quot;merged&quot;. The remained components
then are sorted into lumps where vertices in each lump are within the given
threshold. For all vertices and vertex-faces, set their normals to the average
normal in the lump.
Selected vertices may or may not on the same object.
If objects are selected, it is assumed that all vertices are selected.
If edges or faces are selected, it is assumed that the related vertex-faces
are selected.
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>string</i></td><td>of the node name.</td></tr></table>
      <h2><a name="hKeywords">Keywords</a></h2>poly, userNormals, polyNormals, averageNormal, setNormal, vertexNormal
      <h2><a name="hRelated">Related</a></h2><a href="polyNormal.html">polyNormal</a>, <a href="polyNormalPerVertex.html">polyNormalPerVertex</a>, <a href="polySetToFaceNormal.html">polySetToFaceNormal</a>, <a href="polySoftEdge.html">polySoftEdge</a>

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagallowZeroNormal">allowZeroNormal</a>, <a href="#flagdistance">distance</a>, <a href="#flagpostnormalize">postnormalize</a>, <a href="#flagprenormalize">prenormalize</a>, <a href="#flagreplaceNormalXYZ">replaceNormalXYZ</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        
    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagallowZeroNormal">
          <code><b>allowZeroNormal</b>(<b>azn</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies whether to allow zero normals to be created.
By default it is false. If it is false, replaceNormal is needed.
			
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagdistance">
          <code><b>distance</b>(<b>d</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>float</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies the distance threshold. All vertices within
the threshold are considered when computing an average
normal. By default it is 0.0.
			
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagpostnormalize">
          <code><b>postnormalize</b>(<b>pon</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies whether to normalize the resulting normals.
By default it is true.
			
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagprenormalize">
          <code><b>prenormalize</b>(<b>prn</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies whether to normalize the normals before averaging.
By default it is true.
			
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagreplaceNormalXYZ">
          <code><b>replaceNormalXYZ</b>(<b>xyz</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>[float, float, float]</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

If the <i>allowZeroNormal</i> is false, this value is used to
replace the zero normals. By default it is (1, 0, 0).
			
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can have multiple arguments, passed either as a tuple or a list.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">Python examples</a></h2><pre>import maya.cmds as cmds

# To average normals when they are within 0.2 distance.
cmds.polyAverageNormal( distance=0.2 )

# To average normals when they are within 0.2 distance.
# Normalize the normals before computing the average.
cmds.polyAverageNormal( distance=0.2, prenormalize=True )

# To averge normals when they are within 0.2 distance. Do not
# normalize the normals before computing the average (so to get weighted
# average). But do normalize the resulting normal.
cmds.polyAverageNormal( distance=0.2, postnormalize=True )

# To average normals when they are within 0.2 distance. Do not
# allow zero normal and replace zero normal with (1 0 0).
cmds.polyAverageNormal( distance=0.2, allowZeroNormal=False, replaceNormalXYZ=(1,0,0) )
	</pre>































    </body>
  </html>
  

