<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>scriptedPanel command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="Commands-scriptedPanel"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (MEL)</font></td>
			<td align="right"><font size="-1"><i><a href="../CommandsPython/scriptedPanel.html">Python version</a></i></font></td>
		  </tr><tr>
		  <td><h1>scriptedPanel </h1></td>
			<td align="right">In categories: <a href="cat_Windows.html" target="contentFrame">Windows</a>, <a href="cat_Windows.html#Panels" target="contentFrame">Panels</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("scriptedPanel.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">MEL examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>scriptedPanel [-<a href="#flagcontrol">control</a>] [-<a href="#flagcopy">copy</a> <i>string</i>] [-<a href="#flagcreateString">createString</a>] [-<a href="#flagdefineTemplate">defineTemplate</a> <i>string</i>] [-<a href="#flagdocTag">docTag</a> <i>string</i>] [-<a href="#flageditString">editString</a>] [-<a href="#flagexists">exists</a>] [-<a href="#flaginit">init</a>] [-<a href="#flagisUnique">isUnique</a>] [-<a href="#flaglabel">label</a> <i>string</i>] [-<a href="#flagmenuBarRepeatLast">menuBarRepeatLast</a> <i>boolean</i>] [-<a href="#flagmenuBarVisible">menuBarVisible</a> <i>boolean</i>] [-<a href="#flagneedsInit">needsInit</a>] [-<a href="#flagparent">parent</a> <i>string</i>] [-<a href="#flagpopupMenuProcedure">popupMenuProcedure</a> <i>script</i>] [-<a href="#flagreplacePanel">replacePanel</a> <i>string</i>] [-<a href="#flagtearOff">tearOff</a>] [-<a href="#flagtearOffCopy">tearOffCopy</a> <i>string</i>] [-<a href="#flagtearOffRestore">tearOffRestore</a>] [-<a href="#flagtype">type</a> <i>string</i>] [-<a href="#flagunParent">unParent</a>] [-<a href="#flaguseTemplate">useTemplate</a> <i>string</i>] 
[panelName]
     </code> </p>
      <p>scriptedPanel is undoable, queryable, and editable.</p>
      This command will create an instance of the specified
scriptedPanelType. A panel is a collection of UI objects (buttons,
fields, graphical views) that are grouped together. A panel can be
moved around as a group within the application interface, and torn off
to exist in its own window. The panel takes care of maintaining the
state of its UI when it is relocated, or recreated. A scripted panel
is a panel that is defined in MEL, with all of the required callbacks
available as MEL proc's.
<p>
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>string</i></td><td>The name of the scripted panel.</td></tr></table><p>In query mode, return type is based on queried flag.</p>
      
      

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagcontrol">control</a>, <a href="#flagcopy">copy</a>, <a href="#flagcreateString">createString</a>, <a href="#flagdefineTemplate">defineTemplate</a>, <a href="#flagdocTag">docTag</a>, <a href="#flageditString">editString</a>, <a href="#flagexists">exists</a>, <a href="#flaginit">init</a>, <a href="#flagisUnique">isUnique</a>, <a href="#flaglabel">label</a>, <a href="#flagmenuBarRepeatLast">menuBarRepeatLast</a>, <a href="#flagmenuBarVisible">menuBarVisible</a>, <a href="#flagneedsInit">needsInit</a>, <a href="#flagparent">parent</a>, <a href="#flagpopupMenuProcedure">popupMenuProcedure</a>, <a href="#flagreplacePanel">replacePanel</a>, <a href="#flagtearOff">tearOff</a>, <a href="#flagtearOffCopy">tearOffCopy</a>, <a href="#flagtearOffRestore">tearOffRestore</a>, <a href="#flagtype">type</a>, <a href="#flagunParent">unParent</a>, <a href="#flaguseTemplate">useTemplate</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        <tr bgcolor="#DDDDDD"><td colspan="3"><u></u></td></tr>

    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagcontrol">
          <code><b>-control</b>(<b>-ctl</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns the top level control for this panel.
Usually used for getting a parent to attach popup menus.
CAUTION: panels may not have controls at times.  This
flag can return &quot;&quot; if no control is present.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagcopy">
          <code><b>-copy</b>(<b>-cp</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Makes this panel a copy of the specified panel.  Both
panels must be of the same type.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagcreateString">
          <code><b>-createString</b>(<b>-cs</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Command string used to create a panel
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagdefineTemplate">
          <code><b>-defineTemplate</b>(<b>-dt</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Puts the command in a mode where any other flags and arguments are
parsed and added to the command template specified in the argument.
They will be used as default arguments in any subsequent
invocations of the command when templateName is set as the
current template.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagdocTag">
          <code><b>-docTag</b>(<b>-dtg</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Attaches a tag to the Maya panel.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flageditString">
          <code><b>-editString</b>(<b>-es</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Command string used to edit a panel
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagexists">
          <code><b>-exists</b>(<b>-ex</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns whether the
specified object exists or not. Other flags are ignored.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaginit">
          <code><b>-init</b>(<b>-in</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Initializes the panel's default state.  This is usually done
automatically on file -new and file -open.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagisUnique">
          <code><b>-isUnique</b>(<b>-iu</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns true if only one instance of this panel type is allowed.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaglabel">
          <code><b>-label</b>(<b>-l</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies the user readable label for the panel.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagmenuBarRepeatLast">
          <code><b>-menuBarRepeatLast</b>(<b>-mrl</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Controls whether clicking on the menu header with the middle mouse button would repeat the last selected menu item.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagmenuBarVisible">
          <code><b>-menuBarVisible</b>(<b>-mbv</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Controls whether the menu bar for the panel is displayed.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagneedsInit">
          <code><b>-needsInit</b>(<b>-ni</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

(Internal) On Edit will mark the panel as requiring initialization.
Query will return whether the panel is marked for initialization.  Used
during file -new and file -open.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagparent">
          <code><b>-parent</b>(<b>-p</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies the parent layout for this panel.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagpopupMenuProcedure">
          <code><b>-popupMenuProcedure</b>(<b>-pmp</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>script</i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies the procedure called for building the panel's popup menu(s).
The default value is &quot;buildPanelPopupMenu&quot;.  The procedure should take
one string argument which is the panel's name.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagreplacePanel">
          <code><b>-replacePanel</b>(<b>-rp</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Will replace the specified panel with this panel.  If the
target panel is within the same layout it will perform a swap.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagtearOff">
          <code><b>-tearOff</b>(<b>-to</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Will tear off this panel into a separate window with a paneLayout
as the parent of the panel. When queried this flag will return if the
panel has been torn off into its own window.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagtearOffCopy">
          <code><b>-tearOffCopy</b>(<b>-toc</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Will create this panel as a torn of copy of the specified source panel.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagtearOffRestore">
          <code><b>-tearOffRestore</b>(<b>-tor</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Restores panel if it is torn off and focus is given to it.
If docked, becomes the active panel in the docked window.
This should be the default flag that is added to all panels
instead of <i>-to/-tearOff</i> flag which should only be used to tear off the panel.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagtype">
          <code><b>-type</b>(<b>-typ</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

This flag specifies the type of scripted panel to create.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagunParent">
          <code><b>-unParent</b>(<b>-up</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies that the panel should be removed from its layout.
This (obviously) cannot be used with query.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaguseTemplate">
          <code><b>-useTemplate</b>(<b>-ut</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Forces the command to use a command template other than
the current one.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can be used more than once in a command.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">MEL examples</a></h2><pre>
// define callbacks for this type and make it a unique type
// as we don't want two panels sharing the same global data.

scriptedPanelType
    -ccb sampleCreateCallback
    -icb sampleInitCallback
    -acb sampleAddCallback
    -rcb sampleRemoveCallback
    -dcb sampleDeleteCallback
    -scb sampleSaveStateCallback
    -unique true
    sampleScriptedPanelType;


global proc sampleCreateCallback(string $panelName) {
//
//  Description:
//      Create any editors unparented here and do
//      any other initialization required.
//
//      In this example we will only declare a global array to
//        maintain some state information.
//
    global float $gSampleState[5];

}


global proc sampleInitCallback(string $panelName) {
//
//  Description:
//      Re-initialize the panel on file -new or file -open.
//
//      In this example we will only re-init the global array.
//
    global float $gSampleState[];

       $gSampleState[0] = 20.2;
       $gSampleState[1] = 50.5;
       $gSampleState[2] = 34.7;
       $gSampleState[3] = 2.0;
       $gSampleState[4] = 1.0;

}

global proc sampleAddCallback(string $panelName) {
//
//  Description:  Create UI and parent any editors.
//
    global float $gSampleState[];

    columnLayout -adj true topCol;
    separator -style &quot;none&quot; -h 10;
        frameLayout -l &quot;Sliders&quot; -mw 10;
            columnLayout -adj true sampleCol;
                separator -style &quot;none&quot; -h 10;

                floatSliderGrp -l &quot;Property A&quot; -f true
                    -v $gSampleState[0]
                    fsg1;
                floatSliderGrp -l &quot;Property B&quot; -f true
                    -v $gSampleState[1]
                    fsg2;
                floatSliderGrp -l &quot;Property C&quot; -f true
                    -v $gSampleState[2]
                    fsg3;
                separator -style &quot;none&quot; -h 10;
            setParent ..;
        setParent ..;

        separator -style &quot;none&quot; -h 10;
        frameLayout -l &quot;Radio Buttons&quot; -mw 10;
            columnLayout sampleCol2;
                separator -style &quot;none&quot; -h 10;
                radioButtonGrp -nrb 3
                    -l &quot;Big Options&quot;
                    -la3 &quot;Option 1&quot; &quot;Option 2&quot; &quot;Option 3&quot;
                    -select $gSampleState[3]
                    rbg;
                radioButtonGrp -nrb 3
                    -l &quot;Little Options&quot;
                    -la3 &quot;Option 4&quot; &quot;Option 5&quot; &quot;Option 6&quot;
                    -select $gSampleState[4]
                    rbg2;
                separator -style &quot;none&quot; -h 10;

}

global proc sampleRemoveCallback(string $panelName) {
//
//  Description:
//        Unparent any editors and save state if required.
//
        global float $gSampleState[];
       //  Scope the control names to this panel.
       //
       string $control = `scriptedPanel -q -control $panelName`;
       setParent $control;

       $gSampleState[0] = `floatSliderGrp -q -v fsg1`;
       $gSampleState[1] = `floatSliderGrp -q -v fsg2`;
       $gSampleState[2] = `floatSliderGrp -q -v fsg3`;
       $gSampleState[3] = `radioButtonGrp -q -sl rbg`;
       $gSampleState[4] = `radioButtonGrp -q -sl rbg2`;
}

global proc sampleDeleteCallback(string $panelName) {
//
//  Description:
//        Delete any editors and do any other cleanup required.

}

global proc string sampleSaveStateCallback(string $panelName) {
//
//  Description:
//        Return a string that will restore the current state
//        when it is executed.

        global float $gSampleState[];
       $indent = &quot;\n\t\t\t&quot;;

       return ($indent+&quot;$gSampleState[0]=&quot;+$gSampleState[0]+&quot;;&quot; +
               $indent+&quot;$gSampleState[1]=&quot;+$gSampleState[1]+&quot;;&quot; +
               $indent+&quot;$gSampleState[2]=&quot;+$gSampleState[2]+&quot;;&quot; +
               $indent+&quot;$gSampleState[3]=&quot;+$gSampleState[3]+&quot;;&quot; +
               $indent+&quot;$gSampleState[4]=&quot;+$gSampleState[4]+&quot;;&quot; +
               $indent+&quot;setSamplePanelState $panelName;\n&quot; );
}

global proc setSamplePanelState( string $whichPanel ) {
//
//  Description:
//        This is a convenience proc to set the panel state from the
//        global array

        global float $gSampleState[];

       //  Scope the control names to this panel.
       //
       string $control = `scriptedPanel -q -control $whichPanel`;
       if (&quot;&quot; != $control) {
              setParent $control;

              floatSliderGrp -e -v $gSampleState[0] fsg1;
              floatSliderGrp -e -v $gSampleState[1] fsg2;
              floatSliderGrp -e -v $gSampleState[2] fsg3;
              if (0 != $gSampleState[3]) {
               radioButtonGrp -e -sl $gSampleState[3] rbg;
              };
           if (0 != $gSampleState[4]) {
               radioButtonGrp -e -sl $gSampleState[4] rbg2;
           }
       }
}


//  This script will create an unparented scripted panel, place it
//  in one window, remove it, and place it in another window then
//  return it to the first window.
//

//    Create unparented scripted panel
//
scriptedPanel -unParent -type sampleScriptedPanelType -label &quot;Sample&quot; sampleScriptedPanel;

//    Create a couple of windows and parent the scripted panel to the first.
//
window sampleWin;
frameLayout -lv false -bv false frm;
scriptedPanel -e -parent &quot;sampleWin|frm&quot; sampleScriptedPanel;
showWindow;

window -w `window -q -w sampleWin` -h `window -q -h sampleWin` sampleWin2;
frameLayout -lv false -bv false frm;
showWindow;


//    Reparent the scripted panel to the second window.
//
scriptedPanel -e -unParent sampleScriptedPanel;
scriptedPanel -e -parent &quot;sampleWin2|frm&quot; sampleScriptedPanel;

//    Reparent the scripted panel back to the first window.
//
scriptedPanel -e -unParent sampleScriptedPanel;
scriptedPanel -e -parent &quot;sampleWin|frm&quot; sampleScriptedPanel;


//    Close both windows
//
catch (`window -e -visible false sampleWin`);
catch (`window -e -visible false sampleWin2`);

//    The scripted panel should appear in the Panel menu.  Select
//    Panels-&gt;Panel-&gt;Sample and the panel should appear in the main window.
//

// This second example shows how to use the saveState and copyState callbacks.
// saveStateCallback enables a panel to restore its state from a saved scene file.
// copyStateCallback enables a 'tear off copy' of a panel to copy its state from the original.
// print statements have been left in as an instructional aid - you would remove these in a
//    real use case.

global proc meCreateCallback(string $panelName) {
// Create callback: create the editor.
print( &quot;create &quot; + $panelName + &quot;\n&quot; );
    string $me = $panelName + &quot;_me&quot;;
    $me = `modelEditor -unParent $me`;
    modelEditor -e -da &quot;smoothShaded&quot; -wos 1 $me;
}
global proc meInitCallback(string $panelName) {
// Init callback: allow re-initialisation (not used here).
print( &quot;init &quot; + $panelName + &quot;\n&quot; );
}
global proc meAddCallback(string $panelName) {
// Add callback: add editor into a panel layout.
// In this example we add a formLayout and two buttons,
// allowing the user to change the &quot;wireframe on shaded&quot; mode of the viewer.
print( &quot;add &quot; + $panelName + &quot;\n&quot; );
    string $me = $panelName + &quot;_me&quot;;
    string $layout = `formLayout`;
    modelEditor -e -parent $layout $me;
    string $cmd = &quot;modelEditor -e -wos 1 &quot; + $me;
    string $wos1 = `button -parent $layout -label &quot;WOS 1&quot; -c $cmd`;
    $cmd = &quot;modelEditor -e -wos 0 &quot; + $me;
    string $wos0 = `button -parent $layout -label &quot;WOS 0&quot; -c $cmd`;
    formLayout -e -af $wos1 &quot;top&quot; 0 -af $wos1 &quot;left&quot; 0 $layout;
    formLayout -e -af $wos0 &quot;left&quot; 0 -ac $wos0 &quot;top&quot; 0 $wos1 $layout;
    formLayout -e -af $me &quot;top&quot; 0 -af $me &quot;bottom&quot; 0 -ac $me &quot;left&quot; 5 $wos1 -af $me &quot;right&quot; 0 $layout;
}
global proc meRemoveCallback(string $panelName) {
// Remove callback: unparent the editor from the layout.
print( &quot;remove &quot; + $panelName + &quot;\n&quot; );
    string $me = $panelName + &quot;_me&quot;;
    modelEditor -e -unParent $me;
}
global proc meDeleteCallback(string $panelName) {
// Delete callback: delete the editor.
print( &quot;delete &quot; + $panelName + &quot;\n&quot; );
    string $me = $panelName + &quot;_me&quot;;
    deleteUI $me;
}
global proc string meSaveStateCallback(string $panelName) {
// Save state callback: return a MEL command string that will restore the state of a recreated panel.
print( &quot;save state &quot; + $panelName + &quot;\n&quot; );
    string $me = $panelName + &quot;_me&quot;;
    int $wos = `modelEditor -q -wos $me`;
    return &quot;modelEditor -e -wos &quot; + $wos + &quot; &quot; + $me;
}
global proc meCopyStateCallback(string $panelName, string $newPanelName) {
// Copy state callback: copy the editor's state to the new instance of the panel type.
print( &quot;copy state &quot; + $panelName + &quot;, &quot; + $newPanelName + &quot;\n&quot; );
    string $me = $panelName + &quot;_me&quot;;
    string $newMe = $newPanelName + &quot;_me&quot;;
    int $wos = `modelEditor -q -wos $me`;
    modelEditor -e -wos $wos $newMe;
}

// Create the scripted panel type.
string $spType = `
scriptedPanelType
    -ccb meCreateCallback
    -icb meInitCallback
    -acb meAddCallback
    -rcb meRemoveCallback
    -dcb meDeleteCallback
    -scb meSaveStateCallback
    -ocb meCopyStateCallback
    meSpType
`;
print( &quot;type is &quot; + $spType + &quot;\n&quot; );
// As a test, create a window containing an instance of our new panel type.
// This panel will then be selectable from the Panels menu of any other panel.
// You can also create new instances of the scripted panel type via the Panel Editor,
// which again is available from the Panels menu of all panels.
window;
string $form = `formLayout`;
string $p = `scriptedPanel -type $spType -label &quot;test panel&quot;`;
formLayout -e -af $p &quot;top&quot; 0 -af $p &quot;bottom&quot; 0 -af $p &quot;left&quot; 0 -af $p &quot;right&quot; 0 $form;
showWindow;

  </pre>































    </body>
  </html>
  

