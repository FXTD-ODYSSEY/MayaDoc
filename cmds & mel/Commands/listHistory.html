<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>listHistory command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="Commands-listHistory"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (MEL)</font></td>
			<td align="right"><font size="-1"><i><a href="../CommandsPython/listHistory.html">Python version</a></i></font></td>
		  </tr><tr>
		  <td><h1>listHistory </h1></td>
			<td align="right">In categories: <a href="cat_General.html" target="contentFrame">General</a>, <a href="cat_General.html#Attributes" target="contentFrame">Attributes</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("listHistory.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hRelated">Related</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">MEL examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>listHistory [-<a href="#flagallConnections">allConnections</a>] [-<a href="#flagallFuture">allFuture</a>] [-<a href="#flagallGraphs">allGraphs</a> <i>boolean</i>] [-<a href="#flagbreadthFirst">breadthFirst</a>] [-<a href="#flagfuture">future</a> <i>boolean</i>] [-<a href="#flagfutureLocalAttr">futureLocalAttr</a>] [-<a href="#flagfutureWorldAttr">futureWorldAttr</a>] [-<a href="#flaggroupLevels">groupLevels</a> <i>boolean</i>] [-<a href="#flaghistoryAttr">historyAttr</a>] [-<a href="#flaginterestLevel">interestLevel</a> <i>int</i>] [-<a href="#flagleaf">leaf</a> <i>boolean</i>] [-<a href="#flaglevels">levels</a> <i>uint</i>] [-<a href="#flagpruneDagObjects">pruneDagObjects</a> <i>boolean</i>] 
objects
     </code> </p>
      <p>listHistory is undoable, queryable, and <b>NOT editable</b>.</p>
      This command traverses backwards or forwards in the graph from
the specified node and returns all of the nodes whose construction
history it passes through. The construction history consists of
connections to specific attributes of a node defined as the
creators and results of the node's main data, eg. the curve for
a Nurbs Curve node.
<p>
For information on history connections through specific plugs use
the &quot;listConnections&quot; command first to find where the history begins
then use this command on the resulting node.
<p>
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>string[]</i></td><td>List of history nodes</td></tr></table><p>In query mode, return type is based on queried flag.</p>
      
      <h2><a name="hRelated">Related</a></h2><a href="listConnections.html">listConnections</a>, <a href="listRelatives.html">listRelatives</a>

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagallConnections">allConnections</a>, <a href="#flagallFuture">allFuture</a>, <a href="#flagallGraphs">allGraphs</a>, <a href="#flagbreadthFirst">breadthFirst</a>, <a href="#flagfuture">future</a>, <a href="#flagfutureLocalAttr">futureLocalAttr</a>, <a href="#flagfutureWorldAttr">futureWorldAttr</a>, <a href="#flaggroupLevels">groupLevels</a>, <a href="#flaghistoryAttr">historyAttr</a>, <a href="#flaginterestLevel">interestLevel</a>, <a href="#flagleaf">leaf</a>, <a href="#flaglevels">levels</a>, <a href="#flagpruneDagObjects">pruneDagObjects</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        <tr bgcolor="#DDDDDD"><td colspan="3"><u></u></td></tr>

    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagallConnections">
          <code><b>-allConnections</b>(<b>-ac</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

If specified, the traversal that searches for the history or future will
not restrict its traversal across nodes to only dependent plugs.
Thus it will reach all upstream nodes (or all downstream nodes for f/future).
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagallFuture">
          <code><b>-allFuture</b>(<b>-af</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

If listing the future, list all of it. Otherwise if a shape has
an attribute that represents its output geometry data, and that plug
is connected, only list the future history downstream from that
connection.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagallGraphs">
          <code><b>-allGraphs</b>(<b>-ag</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

This flag is obsolete and has no effect.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagbreadthFirst">
          <code><b>-breadthFirst</b>(<b>-bf</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

The breadth first traversal will return the closest nodes in the
traversal first. The depth first traversal will follow a complete
path away from the node, then return to any other paths from the
node. Default is depth first.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagfuture">
          <code><b>-future</b>(<b>-f</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

List the future instead of the history.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagfutureLocalAttr">
          <code><b>-futureLocalAttr</b>(<b>-fl</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

This flag allows querying of the local-space future-related attribute(s) on shape nodes.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagfutureWorldAttr">
          <code><b>-futureWorldAttr</b>(<b>-fw</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

This flag allows querying of the world-space future-related attribute(s) on shape nodes.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaggroupLevels">
          <code><b>-groupLevels</b>(<b>-gl</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

The node names are grouped depending on the level.  &gt; 1 is
the lead, the rest are grouped with it.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaghistoryAttr">
          <code><b>-historyAttr</b>(<b>-ha</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

This flag allows querying of the attribute where history connects on shape nodes.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaginterestLevel">
          <code><b>-interestLevel</b>(<b>-il</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>int</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

If this flag is set, only nodes whose historicallyInteresting
attribute value is not less than the value will be listed.
The historicallyInteresting attribute is 0 on nodes which are
not of interest to non-programmers.  1 for the TDs, 2 for the users.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagleaf">
          <code><b>-leaf</b>(<b>-lf</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

If transform is selected, show history for its leaf
shape. Default is true.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaglevels">
          <code><b>-levels</b>(<b>-lv</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>uint</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Levels deep to traverse. Setting the number of levels to
0 means do all levels. All levels is the default.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagpruneDagObjects">
          <code><b>-pruneDagObjects</b>(<b>-pdo</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

If this flag is set, prune at dag objects.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can be used more than once in a command.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">MEL examples</a></h2><pre>
curve -d 3 -p -3 0 0 -p -1 0 6 -p 6 0 8 -p 8 0 2
      -k 0 -k 0 -k 0 -k 1 -k 1 -k 1 -n snake;
  instance -n rattler;
  revolve -ch on -n charmer rattler;
  revolve -ch on -n medusa snake;

listHistory;
// Result: medusaShape revolve2 snake|curveShape1 //

listHistory charmer;
// Result: charmerShape revolve1 rattler|curveShape1 //

listHistory -lv 1 medusa;
// Result: medusaShape revolve2 //

listHistory -future true medusa;
// Result: medusaShape initialShadingGroup //

  // If you just list the curve's future you get both directions
  listHistory -future true curveShape1;
  // Result: snake|curveShape1 snake|curveShape1 revolve2 medusaShape
// snake|curveShape1 revolve1 charmerShape //

// To follow only one history you'll need to follow the path you
// want first, then add the node you started at if so desired since
// it will not be included (here snake|curveShape1 won't list).

// List the future of the first curve
string $hist[] = `listConnections -c 1 curveShape1.ws[0]`;
listHistory -future true $hist[1];
// Result: revolve2 medusaShape //

// List the future of the second curve
$hist = `listConnections -c 1 curveShape1.ws[1]`;
listHistory -future true $hist[1];
// Result: revolve1 charmerShape //

listHistory -leaf 0;
// Result: medusa //

  </pre>































    </body>
  </html>
  

