<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>panelHistory command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="Commands-panelHistory"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (MEL)</font></td>
			<td align="right"><font size="-1"><i><a href="../CommandsPython/panelHistory.html">Python version</a></i></font></td>
		  </tr><tr>
		  <td><h1>panelHistory </h1></td>
			<td align="right">In categories: <a href="cat_Windows.html" target="contentFrame">Windows</a>, <a href="cat_Windows.html#Panels" target="contentFrame">Panels</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("panelHistory.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">MEL examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>panelHistory [-<a href="#flagback">back</a>] [-<a href="#flagclear">clear</a>] [-<a href="#flagdefineTemplate">defineTemplate</a> <i>string</i>] [-<a href="#flagexists">exists</a>] [-<a href="#flagforward">forward</a>] [-<a href="#flaghistoryDepth">historyDepth</a> <i>int</i>] [-<a href="#flagisEmpty">isEmpty</a>] [-<a href="#flagsuspend">suspend</a> <i>boolean</i>] [-<a href="#flagtargetPane">targetPane</a> <i>string</i>] [-<a href="#flaguseTemplate">useTemplate</a> <i>string</i>] [-<a href="#flagwrap">wrap</a> <i>boolean</i>] 
[name]
     </code> </p>
      <p>panelHistory is undoable, queryable, and editable.</p>
      This command creates a panel history object.  The object is targeted on a
particular paneLayout and thereafter notes changes in panel configurations
within that paneLayout, building up a history list.  The list can be stepped
through backwards or forwards.
<p>
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>string</i></td><td>The name of the panelHistory object created.</td></tr></table><p>In query mode, return type is based on queried flag.</p>
      
      

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagback">back</a>, <a href="#flagclear">clear</a>, <a href="#flagdefineTemplate">defineTemplate</a>, <a href="#flagexists">exists</a>, <a href="#flagforward">forward</a>, <a href="#flaghistoryDepth">historyDepth</a>, <a href="#flagisEmpty">isEmpty</a>, <a href="#flagsuspend">suspend</a>, <a href="#flagtargetPane">targetPane</a>, <a href="#flaguseTemplate">useTemplate</a>, <a href="#flagwrap">wrap</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        <tr bgcolor="#DDDDDD"><td colspan="3"><u></u></td></tr>

    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagback">
          <code><b>-back</b>(<b>-b</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Go back one level on the history list.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagclear">
          <code><b>-clear</b>(<b>-cl</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Clear the history stack
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagdefineTemplate">
          <code><b>-defineTemplate</b>(<b>-dt</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Puts the command in a mode where any other flags and arguments are
parsed and added to the command template specified in the argument.
They will be used as default arguments in any subsequent
invocations of the command when templateName is set as the
current template.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagexists">
          <code><b>-exists</b>(<b>-ex</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns whether the
specified object exists or not. Other flags are ignored.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagforward">
          <code><b>-forward</b>(<b>-f</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Go forward one level on the history list.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaghistoryDepth">
          <code><b>-historyDepth</b>(<b>-hd</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>int</i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies how many levels of history are maintained.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagisEmpty">
          <code><b>-isEmpty</b>(<b>-ie</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns true if there is currently no panel history.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagsuspend">
          <code><b>-suspend</b>(<b>-s</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies whether to suspend or resume updates to the panel history.
Useful for chunking a number of changes into one history event.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagtargetPane">
          <code><b>-targetPane</b>(<b>-tp</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies which paneLayout the history will be maintained for.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaguseTemplate">
          <code><b>-useTemplate</b>(<b>-ut</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Forces the command to use a command template other than
the current one.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagwrap">
          <code><b>-wrap</b>(<b>-w</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specifies whether the history will wrap at the end and
beginning.  This value is true by default.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can be used more than once in a command.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">MEL examples</a></h2><pre>
//    Create a window containing a pane layout.  The window also contains
//    an option menu for changing the layout configuration and two buttons
//    for stepping through the configuration history.
//
string $window = `window -title &quot;panelHistory Example&quot;`;
string $form = `formLayout`;

//    Create the option menu for panel configuration.
//
string $configuration = `optionMenuGrp -label &quot;Configuration&quot;
    -columnWidth2 100 150`;
    string $single, $stacked, $sideBySide, $four;
    $single     = `menuItem -label &quot;Single&quot;`;
    $stacked    = `menuItem -label &quot;2 Stacked&quot;`;
    $sideBySide = `menuItem -label &quot;2 Side by Side&quot;`;
    $four       = `menuItem -label &quot;Four&quot;`;

//    Create the buttons for stepping through configuration history.
//
string $history = `rowLayout -numberOfColumns 3
    -columnWidth3 100 75 75
    -columnAttach 2 &quot;both&quot; 0 -columnAttach 3 &quot;both&quot; 0`;
    text -label &quot;History&quot;;
    string $backBtn = `button -label &quot;Back&quot;`;
    string $forwardBtn = `button -label &quot;Forward&quot;`;
    setParent ..;

//    Create the pane layout.
//
string $frame = `frameLayout -labelVisible false`;
string $panes = `paneLayout`;
    text -label &quot;Pane 1&quot;;
    text -label &quot;Pane 2&quot;;
    text -label &quot;Pane 3&quot;;
    text -label &quot;Pane 4&quot;;

//    Set up the attachments.
//
formLayout -edit
    -attachForm    $configuration &quot;top&quot;    5
    -attachForm    $configuration &quot;left&quot;   5
    -attachControl $history       &quot;top&quot;    5 $configuration
    -attachForm    $history       &quot;left&quot;   5
    -attachForm    $history       &quot;right&quot;  5
    -attachControl $frame         &quot;top&quot;    5 $history
    -attachForm    $frame         &quot;left&quot;   5
    -attachForm    $frame         &quot;right&quot;  5
    -attachForm    $frame         &quot;bottom&quot; 5
    $form;

//    Create the panel history object.
//
string $panelHistory = `panelHistory -targetPane $panes`;

//    Attach a command to the option menu to change the panel layout
//    configuration accordingly.
//
optionMenuGrp -edit
    -changeCommand (&quot;ExampleUpdatePaneLayout &quot; + $configuration + &quot; &quot; + $panes)
    $configuration;

//    Attach commands to the buttons for stepping through the configuration
//    history.  The commands should also update the value of the option menu.
//
button -edit
    -command (&quot;panelHistory -edit -back $panelHistory; &quot;
        + &quot;ExampleUpdateConfiguration &quot; + $configuration + &quot; &quot; + $panes)
    $backBtn;
button -edit
    -command (&quot;panelHistory -edit -forward $panelHistory; &quot;
        + &quot;ExampleUpdateConfiguration &quot; + $configuration + &quot; &quot; + $panes)
    $forwardBtn;

showWindow $window;

//    Call this procedure whenever the option menu's configuration value
//    changes.  This procedure will update the configuration of the
//    pane layout to reflect the change.
//
proc ExampleUpdatePaneLayout(string $optionMenuGrp, string $paneLayout)
{
    if (&quot;&quot; == $optionMenuGrp || &quot;&quot; == $paneLayout) return;

    string $value = `optionMenuGrp -query -value $optionMenuGrp`;
    if (&quot;Single&quot; == $value) {
        paneLayout -edit -configuration &quot;single&quot; $paneLayout;
    } else if (&quot;2 Stacked&quot; == $value) {
        paneLayout -edit -configuration &quot;horizontal2&quot; $paneLayout;
    } else if (&quot;2 Side by Side&quot; == $value) {
        paneLayout -edit -configuration &quot;vertical2&quot; $paneLayout;
    } else if (&quot;Four&quot; == $value) {
        paneLayout -edit -configuration &quot;quad&quot; $paneLayout;
    }
}

//    Call this procedure whenever the panel configuration changes due to
//    stepping through the panel history (ie. pressing either the &quot;Forward&quot;
//    or &quot;Back&quot; buttons.  This procedure will update the value of the
//    option menu to reflect the new pane layout configuration.
//
proc ExampleUpdateConfiguration(string $optionMenuGrp, string $paneLayout)
{
    if (&quot;&quot; == $optionMenuGrp || &quot;&quot; == $paneLayout) return;

    string $configuration = `paneLayout -query -configuration $paneLayout`;
    if (&quot;single&quot; == $configuration) {
        optionMenuGrp -edit -value &quot;Single&quot; $optionMenuGrp;
    } else if (&quot;horizontal2&quot; == $configuration) {
        optionMenuGrp -edit -value &quot;2 Stacked&quot; $optionMenuGrp;
    } else if (&quot;vertical2&quot; == $configuration) {
        optionMenuGrp -edit -value &quot;2 Side by Side&quot; $optionMenuGrp;
    } else if (&quot;quad&quot; == $configuration) {
        optionMenuGrp -edit -value &quot;Four&quot; $optionMenuGrp;
    }
}

  </pre>































    </body>
  </html>
  

