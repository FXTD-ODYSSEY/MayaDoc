<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>normalConstraint command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="Commands-normalConstraint"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (MEL)</font></td>
			<td align="right"><font size="-1"><i><a href="../CommandsPython/normalConstraint.html">Python version</a></i></font></td>
		  </tr><tr>
		  <td><h1>normalConstraint </h1></td>
			<td align="right">In categories: <a href="cat_Animation.html" target="contentFrame">Animation</a>, <a href="cat_Animation.html#Constraints" target="contentFrame">Constraints</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("normalConstraint.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hRelated">Related</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">MEL examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>normalConstraint [-<a href="#flagaimVector">aimVector</a> <i>float float float</i>] [-<a href="#flaglayer">layer</a> <i>string</i>] [-<a href="#flagname">name</a> <i>string</i>] [-<a href="#flagremove">remove</a>] [-<a href="#flagtargetList">targetList</a>] [-<a href="#flagupVector">upVector</a> <i>float float float</i>] [-<a href="#flagweight">weight</a> <i>float</i>] [-<a href="#flagweightAliasList">weightAliasList</a>] [-<a href="#flagworldUpObject">worldUpObject</a> <i>name</i>] [-<a href="#flagworldUpType">worldUpType</a> <i>string</i>] [-<a href="#flagworldUpVector">worldUpVector</a> <i>float float float</i>] 
[target...] object
     </code> </p>
      <p>normalConstraint is undoable, queryable, and editable.</p>
      Constrain an object's orientation based on the normal of the target
surface(s) at the closest point(s) to the object.
<p>
A normalConstraint takes as input one or more surface shapes (the
targets) and a DAG transform node (the object).  The normalConstraint
orients the constrained object such that the aimVector (in the
object's local coordinate system) aligns in world space to combined
normal vector.  The upVector (again the the object's local coordinate
system) is aligned in world space with the worldUpVector.  The
combined normal vector is a weighted average of the normal vector
for each target surface at the point closest to the constrained object.
<p>
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>string[]</i></td><td>Name of the created constraint node</td></tr></table><p>In query mode, return type is based on queried flag.</p>
      
      <h2><a name="hRelated">Related</a></h2><a href="aimConstraint.html">aimConstraint</a>, <a href="geometryConstraint.html">geometryConstraint</a>, <a href="orientConstraint.html">orientConstraint</a>, <a href="parentConstraint.html">parentConstraint</a>, <a href="pointConstraint.html">pointConstraint</a>, <a href="poleVectorConstraint.html">poleVectorConstraint</a>, <a href="scaleConstraint.html">scaleConstraint</a>, <a href="tangentConstraint.html">tangentConstraint</a>

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagaimVector">aimVector</a>, <a href="#flaglayer">layer</a>, <a href="#flagname">name</a>, <a href="#flagremove">remove</a>, <a href="#flagtargetList">targetList</a>, <a href="#flagupVector">upVector</a>, <a href="#flagweight">weight</a>, <a href="#flagweightAliasList">weightAliasList</a>, <a href="#flagworldUpObject">worldUpObject</a>, <a href="#flagworldUpType">worldUpType</a>, <a href="#flagworldUpVector">worldUpVector</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        <tr bgcolor="#DDDDDD"><td colspan="3"><u></u></td></tr>

    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagaimVector">
          <code><b>-aimVector</b>(<b>-aim</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>float float float</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Set the aim vector.  This is the vector in local
coordinates that points at the target.  If not given at creation
time, the default value of (1.0, 0.0, 0.0) is used.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flaglayer">
          <code><b>-layer</b>(<b>-l</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Specify the name of the animation layer where the constraint should be added.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagname">
          <code><b>-name</b>(<b>-n</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Sets the name of the constraint node to the specified
name.  Default name is <i>constrainedObjectName_constraintType</i>
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagremove">
          <code><b>-remove</b>(<b>-rm</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

removes the listed target(s) from the constraint.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagtargetList">
          <code><b>-targetList</b>(<b>-tl</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Return the list of target objects.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagupVector">
          <code><b>-upVector</b>(<b>-u</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>float float float</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Set local up vector.  This is the vector in local
coordinates that aligns with the world up vector.  If not given
at creation time, the default value of (0.0, 1.0, 0.0) is used.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagweight">
          <code><b>-weight</b>(<b>-w</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>float</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Sets the weight value for the specified target(s).
If not given at creation time, the default value of 1.0 is used.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagweightAliasList">
          <code><b>-weightAliasList</b>(<b>-wal</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns the names of the attributes that control the weight
of the target objects. Aliases are returned in the same order
as the targets are returned by the targetList flag
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagworldUpObject">
          <code><b>-worldUpObject</b>(<b>-wuo</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>name</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Set the DAG object use for worldUpType &quot;object&quot; and
&quot;objectrotation&quot;. See worldUpType for greater detail.
The default value is no up object, which is interpreted
as world space.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagworldUpType">
          <code><b>-worldUpType</b>(<b>-wut</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Set the type of the world up vector computation.
The worldUpType can have one of 5 values: &quot;scene&quot;,
&quot;object&quot;, &quot;objectrotation&quot;, &quot;vector&quot;, or &quot;none&quot;.
If the value is &quot;scene&quot;, the upVector is
aligned with the up axis of the scene and
worldUpVector and worldUpObject are ignored.
If the value is &quot;object&quot;, the upVector is
aimed as closely as possible to the
origin of the space of the worldUpObject and
the worldUpVector is ignored.
If the value is &quot;objectrotation&quot; then the
worldUpVector is interpreted as being in
the coordinate space of the worldUpObject, transformed into
world space and the upVector is aligned as
closely as possible to the result.
If the value is &quot;vector&quot;, the upVector
is aligned with worldUpVector as closely as
possible and worldUpMatrix is ignored.
Finally, if the value is &quot;none&quot; no twist calculation
is performed by the constraint, with the resulting &quot;upVector&quot;
orientation based previous orientation of the
constrained object, and the &quot;great circle&quot; rotation needed
to align the aim vector with its constraint.
The default worldUpType is &quot;vector&quot;.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagworldUpVector">
          <code><b>-worldUpVector</b>(<b>-wu</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>float float float</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/edit.gif" alt="edit" title="edit" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Set world up vector.  This is the vector in world
coordinates that up vector should align with.
See -wut/worldUpType (below)for greater detail.
If not given at creation time, the default
value of (0.0, 1.0, 0.0) is used.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can be used more than once in a command.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">MEL examples</a></h2><pre>
normalConstraint  surf1 cube1;
// orients the aim vector of cube1 in it's local coordinate space,
// to the normal vector of surf1 at the closest point to  cube1.

normalConstraint -w .1 surf1 surf2 cube2;
// uses the average of the normals from surf1 and surf2.

normalConstraint -e -w 10. surf1 cube2;
// sets the weight for surf1's effect on cube2 to 10.

normalConstraint -e -rm surf2 cube2;
// removes surf2 from cube2's normalConstraint.

normalConstraint surf3 cube2;
// adds surf3 to cube2's normalConstraint with the default weight.

  </pre>































    </body>
  </html>
  

