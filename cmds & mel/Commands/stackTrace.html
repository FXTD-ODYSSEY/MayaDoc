<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>stackTrace command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="Commands-stackTrace"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (MEL)</font></td>
			<td align="right"><font size="-1"><i><i>Only available in MEL</i></i></font></td>
		  </tr><tr>
		  <td><h1>stackTrace </h1></td>
			<td align="right">In categories: <a href="cat_Language.html" target="contentFrame">Language</a>, <a href="cat_Language.html#Scripting" target="contentFrame">Scripting</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("stackTrace.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">MEL examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>stackTrace [-<a href="#flagdump">dump</a>] [-<a href="#flagparameterCount">parameterCount</a> <i>uint</i>] [-<a href="#flagparameterType">parameterType</a> <i>uint uint</i>] [-<a href="#flagparameterValue">parameterValue</a> <i>uint uint</i>] [-<a href="#flagstate">state</a> <i>boolean</i>]  </code> </p>
      <p>stackTrace is undoable, queryable, and <b>NOT editable</b>.</p>
      This command controls the MEL stack trace.
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>int</i></td><td>: in query mode to return state</td></tr></table><p>In query mode, return type is based on queried flag.</p>
      
      

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagdump">dump</a>, <a href="#flagparameterCount">parameterCount</a>, <a href="#flagparameterType">parameterType</a>, <a href="#flagparameterValue">parameterValue</a>, <a href="#flagstate">state</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        <tr bgcolor="#DDDDDD"><td colspan="3"><u></u></td></tr>

    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagdump">
          <code><b>-dump</b>(<b>-d</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Dumps the current stack of MEL calls.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagparameterCount">
          <code><b>-parameterCount</b>(<b>-pc</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>uint</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns (as an int) the number of parameters of the function at the given stack level.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagparameterType">
          <code><b>-parameterType</b>(<b>-pt</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>uint uint</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns (as a string) the type of the given parameter of the function at the given stack level.
Arguments are: stack index, parameter index.
Possible return values are: &quot;int&quot;, &quot;int[]&quot;, &quot;float&quot;, &quot;float[]&quot;, &quot;vector&quot;, &quot;vector[]&quot;, &quot;string&quot;, &quot;string[]&quot;.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagparameterValue">
          <code><b>-parameterValue</b>(<b>-pv</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>uint uint</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Returns the value of the given parameter of the function at the given stack level.
The type of the return value matches the actual type of the parameter, except for vectors and vector arrays
which are returned as float arrays. However, these results can be assigned to vectors/vector arrays and
casting will automatically take place (see the MEL example below).
Arguments are: stack index, parameter index.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagstate">
          <code><b>-state</b>(<b>-s</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>boolean</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/query.gif" alt="query" title="query" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Turns displaying the MEL stack trace on or off.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can be used more than once in a command.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">MEL examples</a></h2><pre>
// Have the stack trace show up on MEL script errors
stackTrace -state on;
// No stack trace for MEL script errors
stackTrace -state off;

// The following is an example of the use of the parameterCount/Type/Value flags.
// A function is defined which uses stackTrace to examine its own inputs.
proc foo( int $inty, int $intya[], float $floaty, float $floatya[], string $stringy, string $stringya[], vector $vectory, vector $vectorya[] )
{
	string $dump[] = `stackTrace -q -d`;
	print( $dump[0] );
	int $count = `stackTrace -pc 0`;
	print( &quot;parameter count: &quot; + $count + &quot;\n&quot; );
	int $i;
	for ( $i=0; $i&lt;$count; $i++ )
	{
		string $type = `stackTrace -pt 0 $i`;
		print( &quot;parameter &quot; + $i + &quot; type: &quot; + $type + &quot;\n&quot; );
		switch ( $type )
		{
		case &quot;int&quot;:
			int $val_i = `stackTrace -pv 0 $i`;
			print( &quot;   value: &quot; + $val_i + &quot;\n&quot; );
			break;
		case &quot;float&quot;:
			float $val_f = `stackTrace -pv 0 $i`;
			print( &quot;   value: &quot; + $val_f + &quot;\n&quot; );
			break;
		case &quot;string&quot;:
			string $val_s = `stackTrace -pv 0 $i`;
			print( &quot;   value: &quot; + $val_s + &quot;\n&quot; );
			break;
		case &quot;vector&quot;:
			vector $val_v = `stackTrace -pv 0 $i`;
			print( &quot;   value: &lt;&lt;&quot; + $val_v + &quot;&gt;&gt;\n&quot; );
			break;
		case &quot;int[]&quot;:
			int $val_ia[] = `stackTrace -pv 0 $i`;
			print( &quot;   value: [&quot; );
			for ( $j in $val_ia ) print( $j + &quot;, &quot; );
			print( &quot;]\n&quot; );
			break;
		case &quot;float[]&quot;:
			float $val_fa[] = `stackTrace -pv 0 $i`;
			print( &quot;   value: [&quot; );
			for ( $f in $val_fa ) print( $f + &quot;, &quot; );
			print( &quot;]\n&quot; );
			break;
		case &quot;string[]&quot;:
			string $val_sa[] = `stackTrace -pv 0 $i`;
			print( &quot;   value: [&quot; );
			for ( $s in $val_sa ) print( $s + &quot;, &quot; );
			print( &quot;]\n&quot; );
			break;
		case &quot;vector[]&quot;:
			vector $val_va[] = `stackTrace -pv 0 $i`;
			print( &quot;   value: [&quot; );
			for ( $v in $val_va ) print( &quot;&lt;&lt;&quot; + $v + &quot;&gt;&gt;, &quot; );
			print( &quot;]\n&quot; );
			break;
		}
	}
}
// Make some input arrays.
int $i[3] = { 9, 6, 3 };
float $f[4] = { 5.0, 7.0, 9.0, 23.0 };
string $s[2] = { &quot;monkey&quot;, &quot;ape&quot; };
vector $v[2] = { &lt;&lt;0.1,0.2,0.3&gt;&gt;, &lt;&lt;7,7,11&gt;&gt; };
// Invoke the function.
foo( 42, $i, 3.14, $f, &quot;oook&quot;, $s, &lt;&lt;0,0,1&gt;&gt;, $v );

  </pre>































    </body>
  </html>
  

