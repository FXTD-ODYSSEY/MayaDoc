<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>surface command</title>
      <meta name="section" content="Commands">
      <meta name="module" content="MEL and expressions">
      <script src="../style/tech.js">.</script>
      <script src="../style/document.js">.</script>
      <link rel="StyleSheet" href="../style/tech.css" type="text/css" media="all">
    <meta name="contextid" content="Commands-surface"></head>
    <body class="command" onload="highLightSearch();">
      <div id="banner">
		<table width="100%"><tr>
			<td><font size="-1"><b>command</b> (MEL)</font></td>
			<td align="right"><font size="-1"><i><a href="../CommandsPython/surface.html">Python version</a></i></font></td>
		  </tr><tr>
		  <td><h1>surface </h1></td>
			<td align="right">In categories: <a href="cat_Modeling.html" target="contentFrame">Modeling</a>, <a href="cat_Modeling.html#NURBS" target="contentFrame">NURBS</a></td>
		  </tr></table>
      </div>
      <p class="toolbar" align="right">
		<script>toolbar("surface.html");</script>
      </p>
      <p>Go to: <a href="#hSynopsis">Synopsis</a>. <a href="#hReturn">Return value</a>. <a href="#hFlags">Flags</a>. <a href="#hExamples">MEL examples</a>. </p>

      <h2><a name="hSynopsis">Synopsis</a></h2>
      <p id="synopsis"> <code>surface [-<a href="#flagdegreeU">degreeU</a> <i>int</i>] [-<a href="#flagdegreeV">degreeV</a> <i>int</i>] [-<a href="#flagformU">formU</a> <i>string</i>] [-<a href="#flagformV">formV</a> <i>string</i>] [-<a href="#flagknotU">knotU</a> <i>float</i>] [-<a href="#flagknotV">knotV</a> <i>float</i>] [-<a href="#flagname">name</a> <i>string</i>] [-<a href="#flagobjectSpace">objectSpace</a>] [-<a href="#flagpoint">point</a> <i>linear linear linear</i>] [-<a href="#flagpointWeight">pointWeight</a> <i>linear linear linear linear</i>] [-<a href="#flagworldSpace">worldSpace</a>]  </code> </p>
      <p>surface is undoable, <b>NOT queryable</b>, and <b>NOT editable</b>.</p>
      The cmd creates a NURBS spline surface (rational or non rational).
The surface is created by specifying control vertices (CV's) and
knot sequences in the U and V direction.  You cannot query
the properties of the surface using this command.  See examples
below.
<p>
	  
      <h2><a name="hReturn">Return value</a></h2>
      <table><tr><td valign="top"><i>string</i></td><td>The path to the new surface</td></tr></table>
      
      

      
    <h2><a name="hFlags">Flags</a></h2>
      <a href="#flagdegreeU">degreeU</a>, <a href="#flagdegreeV">degreeV</a>, <a href="#flagformU">formU</a>, <a href="#flagformV">formV</a>, <a href="#flagknotU">knotU</a>, <a href="#flagknotV">knotV</a>, <a href="#flagname">name</a>, <a href="#flagobjectSpace">objectSpace</a>, <a href="#flagpoint">point</a>, <a href="#flagpointWeight">pointWeight</a>, <a href="#flagworldSpace">worldSpace</a>
      <table width="100%">
        <tr>
          <th bgcolor="#CCCCCC">Long name (short name)</th>
          <th bgcolor="#CCCCCC"><i>Argument types</i></th>
          <th bgcolor="#CCCCCC">Properties</th>
        </tr>
        <tr bgcolor="#DDDDDD"><td colspan="3"><u></u></td></tr>

    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagdegreeU">
          <code><b>-degreeU</b>(<b>-du</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>int</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Degree in surface U direction.  Default is degree 3.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagdegreeV">
          <code><b>-degreeV</b>(<b>-dv</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>int</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Degree in surface V direction.  Default is degree 3.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagformU">
          <code><b>-formU</b>(<b>-fu</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

The string for open is &quot;open&quot; , for closed is &quot;closed&quot;  or
for periodic is &quot;periodic&quot; in U.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagformV">
          <code><b>-formV</b>(<b>-fv</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

The string for open is &quot;open&quot; , for closed is &quot;closed&quot;  or
for periodic is &quot;periodic&quot; in V.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagknotU">
          <code><b>-knotU</b>(<b>-ku</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>float</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/multiuse.gif" alt="multiuse" title="multiuse" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Knot value(s) in U direction.  One flag per knot value. There must
be (numberOfPointsInU + degreeInU - 1) knots and the knot
vector must be non-decreasing.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagknotV">
          <code><b>-knotV</b>(<b>-kv</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>float</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/multiuse.gif" alt="multiuse" title="multiuse" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Knot value(s) in V direction.  One flag per knot value. There must
be (numberOfPointsInV + degreeInV - 1) knots and the knot
vector must be non-decreasing.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagname">
          <code><b>-name</b>(<b>-n</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>string</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Name to use for new transforms.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagobjectSpace">
          <code><b>-objectSpace</b>(<b>-ob</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Should the operation happen in objectSpace?
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagpoint">
          <code><b>-point</b>(<b>-p</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>linear linear linear</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/multiuse.gif" alt="multiuse" title="multiuse" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

To specify non rational CV with (x, y, z) values.  &quot;linear&quot; means
that this flag can take values with units.  Note that you
must specify (degree+1) surface points in any direction to create
a visible surface span.  eg.  if the surface is degree 3 in the U
direction, you must specify 4 CVs in the U direction.
Points are specified in rows of U and columns of V.  If you
want to incorporate units, add the unit name to the value, eg.
&quot;-p 3.3in 5.5ft 6.6yd&quot;
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagpointWeight">
          <code><b>-pointWeight</b>(<b>-pw</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i>linear linear linear linear</i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2"><img src="../gfx/multiuse.gif" alt="multiuse" title="multiuse" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

To specify rational CV with (x, y, z, w) values.  &quot;linear&quot; means
that this flag can take values with units.  Note that you
must specify (degree+1) surface points in any direction to create
a visible surface span.  eg.  if the surface is degree 3 in the U
direction, you must specify 4 CVs in the U direction.
Points are specified in rows of U and columns of V.
      
          </td>
          </tr>
        </table>
      </td>
    </tr>


    <tr bgcolor="#EEEEEE">
      <td valign="top">
        <a name="flagworldSpace">
          <code><b>-worldSpace</b>(<b>-ws</b>)</code></a> 
      </td>
      <td valign="top">
        <code><i></i></code>
      </td>
      <td valign="top">
<img src="../gfx/create.gif" alt="create" title="create" width="13" height="16" hspace="2" vspace="2">
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <table width="100%">
          <tr>
        <td width="5%"></td>
          <td>

Should the operation happen in worldSpace?
      
          </td>
          </tr>
        </table>
      </td>
    </tr>

      </table>
      <hr>
        <table border="0" cellspacing="1" cellpadding="4" bgcolor="#EEEEEE">
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/create.gif">
                Flag can appear in Create mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/edit.gif">
                Flag can appear in Edit mode of command
            </td>
          </tr>
          <tr>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/query.gif">
                Flag can appear in Query mode of command
            </td>
            <td valign="top"><img hspace="2" height="16" width="14" src="../gfx/multiuse.gif">
                Flag can be used more than once in a command.
            </td>
          </tr>
        </table>


<h2><a name="hExamples">MEL examples</a></h2><pre>
// This following command produces a flat, rectangular surface that is degree 3
// in both directions.  This means that there must be at least 4 x 4
// points to define the surface, since 4 is the (degree + 1).  There
// must be 6 knots in each direction, because the knot vector must
// be (number of points + degree - 1), ie. (4 points + degree 3 - 1).
// The CVs are specified in rows of U and columns of V, as you
// would read a book from left to right, up to down. ie. in this order:
// surface.cv[0][0] surface.cv[0][1] surface.cv[0][2] surface.cv[0][3]
// surface.cv[1][0] surface.cv[1][1] surface.cv[1][2] surface.cv[1][3]
// surface.cv[2][0] surface.cv[2][1] surface.cv[2][2] surface.cv[2][3]
// surface.cv[3][0] surface.cv[3][1] surface.cv[3][2] surface.cv[3][3]

surface -du 3 -dv 3
        -ku 0 -ku 0 -ku 0 -ku 1 -ku 1 -ku 1
        -kv 0 -kv 0 -kv 0 -kv 1 -kv 1 -kv 1
        -p -0.5  0 0.5 -p -0.5  0 0.16 -p -0.5  0 -0.16 -p -0.5  0 -0.5
        -p -0.16 0 0.5 -p -0.16 0 0.16 -p -0.16 0 -0.16 -p -0.16 0 -0.5
        -p  0.16 0 0.5 -p  0.16 0 0.16 -p  0.16 0 -0.16 -p  0.16 0 -0.5
        -p  0.5  0 0.5 -p  0.5  0 0.16 -p  0.5  0 -0.16 -p  0.1  0 -0.1 ;

// This following command produces a surface that is degree 3 and periodic in
// the U direction, and degree 1 in the V direction.  Notice that
// the first 3 pairs of points match the last 3 pairs of
// points, which is required for a degree 3 periodic surface.

    surface -du 3 -dv 1
         -fu &quot;periodic&quot;  -fv &quot;open&quot;
         -ku 0 -ku 1 -ku 2 -ku 3 -ku 4 -ku 5 -ku 6
         -ku 7 -ku 8 -ku 9 -ku 10 -ku 11 -ku 12
         -kv 0 -kv 1
         -pw 4 -4 0 1    -pw 4 -4 -2.5 1
         -pw 5.5 0 0 1   -pw 5.5 0 -2.5 1
         -pw 4 4 0 1     -pw 4 4 -2.5 1
         -pw 0 5.5 0 1   -pw 0 5.5 -2.5 1
         -pw -4 4 0 1    -pw -4 4 -2.5 1
         -pw -5.5 0 0 1  -pw -5.5 0 -2.5 1
         -pw -4 -4 0 1   -pw -4 -4 -2.5 1
         -pw 0 -5.5 0 1  -pw 0 -5.5 -2.5 1
         -pw 4 -4 0 1    -pw 4 -4 -2.5 1
         -pw 5.5 0 0 1   -pw 5.5 0 -2.5 1
         -pw 4 4 0 1     -pw 4 4 -2.5 1 ;

// This following command produces a surface that is degree 5 in both directions.

   surface -du 5 -dv 5 -fu &quot;open&quot; -fv &quot;open&quot;
         -p -7 0 1 -p -6 0 4 -p -3 0 6 -p 0 0 7 -p 4 0 5 -p 6 0 3
         -p -7 2 1 -p -6 2 4 -p -3 2 7 -p 0 2 8 -p 4 2 5 -p 6 2 3
         -p -7 3 1 -p -6 3 4 -p -3 3 8 -p 0 3 9 -p 4 3 5 -p 6 3 3
         -p -7 4 1 -p -6 4 4 -p -3 4 9 -p 0 4 8 -p 4 4 5 -p 6 4 3
         -p -7 5 1 -p -6 5 4 -p -3 5 8 -p 0 5 7.5 -p 4 5 5 -p 6 5 3
         -p -7 6 1 -p -6 6 4 -p -3 6 6 -p 0 6 7 -p 4 6 5 -p 6 6 3
         -ku 0 -ku 0 -ku 0 -ku 0 -ku 0 -ku 1 -ku 1 -ku 1 -ku 1 -ku 1
         -kv 0 -kv 0 -kv 0 -kv 0 -kv 0 -kv 1 -kv 1 -kv 1 -kv 1 -kv 1;


// How to query surface properties:

getAttr surface1.degreeU;
// Returns an integer that is the surface degree in U
getAttr surface1.degreeV;
// Returns an integer that is the surface degree in V
getAttr surface1.spansU;
// Returns an integer that is the # spans in U
getAttr surface1.spansV;
// Returns an integer that is the # spans in V
getAttr surface1.formU;
// Return 0 = open, 1 = closed, 2 = periodic
getAttr surface1.formV;
// Returns 0 = open, 1 = closed, 2 = periodic

getAttr surface1.minValueU;
getAttr surface1.maxValueU;
getAttr surface1.minValueV;
getAttr surface1.maxValueV;
// These return the minimum and maximum parameter ranges in each direction.

getAttr surface1.cv[0][0];
// Returns the position of a CV of surface1 in local space.  If the
// surface is a result of construction history, use a surface info
// node instead to get the CV position.

getAttr surface1.cv[&quot;*&quot;][0];
// Returns the positions of a row of CVs of surface1 in local space.
// If the surface is a result of construction history, use a surface info
// node instead to get the CV positions.

createNode surfaceInfo;
connectAttr -f surfaceShape1.worldSpace surfaceInfo1.inputSurface;
getAttr surfaceInfo1.controlPoints[&quot;*&quot;];
// Returns the surface CVs in world space.   A surface info node can
// also be used to query the surface knot vectors.

  </pre>































    </body>
  </html>
  

